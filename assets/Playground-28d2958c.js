import{d as Mt,u as Zs,r as dt,c as D,o as k,a as R,b as t,e as M,f as m,L as Js,g as Z,h as tn,t as b,w as be,n as vt,i as en,j as fe,k as sn,l as nn,m as As,p as an,q as Fs,s as on,v as Ae,x as rn,y as ln,z as Nt,A as qe,B as cn,C as dn,D as ze,E as Vt,I as un,_ as Rt,F as ce,G as Pt,H as ye,J as pt,K as Ct,M as se,N as qt,O as Ot,P as _t,Q as bt,R as $t,S as tt,T as Ut,U as st,V as Fe,W as lt,X as Gt,Y as pn,Z as fn,$ as vn,a0 as ds,a1 as Ge,a2 as Oe,a3 as Jt,a4 as Ds,a5 as De,a6 as ne,a7 as ke,a8 as us,a9 as Dt,aa as ae,ab as hn,ac as ct,ad as gt,ae as $e,af as We,ag as Qt,ah as ie,ai as we,aj as mn,ak as gn,al as ps,am as oe,an as _n,ao as bn,ap as Xe,aq as yn,ar as Ye,as as $n,at as wn,au as xn,av as te,aw as fs,ax as kn,ay as Cn,az as zn,aA as Sn,aB as vs,aC as Ue,aD as Mn,aE as Nn,aF as Rn,aG as En,aH as Ln,aI as Pn}from"./index-d3ba714e.js";import{F as Xt}from"./FloatingPanel-a3391488.js";const An=["tabindex","aria-label","aria-disabled"],Fn=["accept","multiple","disabled"],Dn={key:0,class:"absolute inset-0 bg-white/80 dark:bg-gray-900/80 flex items-center justify-center rounded-lg"},Tn={key:1,class:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-sm text-red-600 dark:text-red-400"},In={key:2,class:"mt-2 text-xs text-theme-secondary"},hs=Mt({__name:"FileUpload",props:{accept:{default:"*"},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxSize:{default:10},allowedTypes:{default:()=>[]},showInlineErrors:{type:Boolean,default:!0}},emits:["file-selected","files-selected","error","processing"],setup(n,{emit:e}){const o=n,s=e,{handleError:d}=Zs(),C=dt(),x=dt(!1),N=dt(!1),I=dt(!1),p=dt(""),l=D(()=>["relative cursor-pointer transition-all duration-200 border-2 border-dashed rounded-lg p-6",{"border-blue-500 bg-blue-50 dark:bg-blue-900/20":x.value,"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500":!x.value&&!I.value,"border-red-500 bg-red-50 dark:bg-red-900/20":I.value,"opacity-50 cursor-not-allowed":o.disabled}]),f=D(()=>o.disabled?"File upload disabled":o.multiple?"Click or drag files to upload":"Click or drag file to upload"),h=D(()=>o.maxSize&&o.allowedTypes.length>0?`Max size: ${o.maxSize}MB. Accepted: ${o.allowedTypes.join(", ")}`:o.maxSize?`Max file size: ${o.maxSize}MB`:o.allowedTypes.length>0?`Accepted file types: ${o.allowedTypes.join(", ")}`:"");function y(){o.disabled||N.value||C.value?.click()}function $(O){o.disabled||N.value||(x.value=!0,O.preventDefault())}function A(O){x.value=!1,O.preventDefault()}function P(O){(O.key==="Enter"||O.key===" ")&&(O.preventDefault(),y())}function j(O){if(o.maxSize&&O.size>o.maxSize*1024*1024)return`File size (${(O.size/1024/1024).toFixed(1)}MB) exceeds limit of ${o.maxSize}MB`;if(o.allowedTypes.length>0){const Y=O.name.split(".").pop()?.toLowerCase(),U=O.type;if(!(Y&&o.allowedTypes.some(v=>v.toLowerCase()===Y||v.toLowerCase()===U)))return`File type not allowed. Expected: ${o.allowedTypes.join(", ")}`}return null}async function W(O){if(!o.disabled){N.value=!0,I.value=!1,p.value="",s("processing",!0);try{for(const Y of O){const U=j(Y);if(U)throw new Error(U)}o.multiple?s("files-selected",O):s("file-selected",O[0])}catch(Y){I.value=!0,p.value=Y instanceof Error?Y.message:"File processing failed",s("error",p.value),d(Y,{component:"FileUpload",files:O.map(U=>U.name)})}finally{N.value=!1,s("processing",!1)}}}function et(O){const U=O.target.files;U&&U.length>0&&W(Array.from(U))}function K(O){x.value=!1;const Y=O.dataTransfer?.files;Y&&Y.length>0&&W(Array.from(Y))}return(O,Y)=>(k(),R("div",{onDrop:be(K,["prevent"]),onDragover:be($,["prevent"]),onDragleave:be(A,["prevent"]),onClick:y,class:vt(l.value),role:"button",tabindex:O.disabled?-1:0,"aria-label":f.value,"aria-disabled":O.disabled,onKeydown:P,"data-tour":"file-upload"},[t("input",{ref_key:"fileInput",ref:C,type:"file",accept:O.accept,multiple:O.multiple,onChange:et,class:"hidden",disabled:O.disabled},null,40,Fn),N.value?(k(),R("div",Dn,[M(m(Js),{size:"md",message:"Processing file..."})])):Z("",!0),tn(O.$slots,"default",{isDragging:x.value,isProcessing:N.value,hasError:I.value,errorMessage:p.value}),I.value&&O.showInlineErrors?(k(),R("div",Tn,b(p.value),1)):Z("",!0),h.value?(k(),R("div",In,b(h.value),1)):Z("",!0)],42,An))}});function On(n,e){let o=0;if(e===void 0)for(let s of n)s!=null&&(s=+s)>=s&&++o;else{let s=-1;for(let d of n)(d=e(d,++s,n))!=null&&(d=+d)>=d&&++o}return o}class re{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const o=this._partials;let s=0;for(let d=0;d<this._n&&d<32;d++){const C=o[d],x=e+C,N=Math.abs(e)<Math.abs(C)?e-(x-C):C-(x-e);N&&(o[s++]=N),e=x}return o[s]=e,this._n=s+1,this}valueOf(){const e=this._partials;let o=this._n,s,d,C,x=0;if(o>0){for(x=e[--o];o>0&&(s=x,d=e[--o],x=s+d,C=d-(x-s),!C););o>0&&(C<0&&e[o-1]<0||C>0&&e[o-1]>0)&&(d=C*2,s=x+d,d==s-x&&(x=s))}return x}}function Un(n,e,o){let s;for(;;){const d=en(n,e,o);if(d===s||d===0||!isFinite(d))return[n,e];d>0?(n=Math.floor(n/d)*d,e=Math.ceil(e/d)*d):d<0&&(n=Math.ceil(n*d)/d,e=Math.floor(e*d)/d),s=d}}function Hn(n){return Math.max(1,Math.ceil(Math.log(On(n))/Math.LN2)+1)}function Bn(n){return n}var He=1,Ce=2,Ke=3,ve=4,ms=1e-6;function Vn(n){return"translate("+n+",0)"}function jn(n){return"translate(0,"+n+")"}function qn(n){return e=>+n(e)}function Gn(n,e){return e=Math.max(0,n.bandwidth()-e*2)/2,n.round()&&(e=Math.round(e)),o=>+n(o)+e}function Wn(){return!this.__axis}function os(n,e){var o=[],s=null,d=null,C=6,x=6,N=3,I=typeof window<"u"&&window.devicePixelRatio>1?0:.5,p=n===He||n===ve?-1:1,l=n===ve||n===Ce?"x":"y",f=n===He||n===Ke?Vn:jn;function h(y){var $=s??(e.ticks?e.ticks.apply(e,o):e.domain()),A=d??(e.tickFormat?e.tickFormat.apply(e,o):Bn),P=Math.max(C,0)+N,j=e.range(),W=+j[0]+I,et=+j[j.length-1]+I,K=(e.bandwidth?Gn:qn)(e.copy(),I),O=y.selection?y.selection():y,Y=O.selectAll(".domain").data([null]),U=O.selectAll(".tick").data($,e).order(),u=U.exit(),v=U.enter().append("g").attr("class","tick"),c=U.select("line"),r=U.select("text");Y=Y.merge(Y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),U=U.merge(v),c=c.merge(v.append("line").attr("stroke","currentColor").attr(l+"2",p*C)),r=r.merge(v.append("text").attr("fill","currentColor").attr(l,p*P).attr("dy",n===He?"0em":n===Ke?"0.71em":"0.32em")),y!==O&&(Y=Y.transition(y),U=U.transition(y),c=c.transition(y),r=r.transition(y),u=u.transition(y).attr("opacity",ms).attr("transform",function(i){return isFinite(i=K(i))?f(i+I):this.getAttribute("transform")}),v.attr("opacity",ms).attr("transform",function(i){var g=this.parentNode.__axis;return f((g&&isFinite(g=g(i))?g:K(i))+I)})),u.remove(),Y.attr("d",n===ve||n===Ce?x?"M"+p*x+","+W+"H"+I+"V"+et+"H"+p*x:"M"+I+","+W+"V"+et:x?"M"+W+","+p*x+"V"+I+"H"+et+"V"+p*x:"M"+W+","+I+"H"+et),U.attr("opacity",1).attr("transform",function(i){return f(K(i)+I)}),c.attr(l+"2",p*C),r.attr(l,p*P).text(A),O.filter(Wn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===Ce?"start":n===ve?"end":"middle"),O.each(function(){this.__axis=K})}return h.scale=function(y){return arguments.length?(e=y,h):e},h.ticks=function(){return o=Array.from(arguments),h},h.tickArguments=function(y){return arguments.length?(o=y==null?[]:Array.from(y),h):o.slice()},h.tickValues=function(y){return arguments.length?(s=y==null?null:Array.from(y),h):s&&s.slice()},h.tickFormat=function(y){return arguments.length?(d=y,h):d},h.tickSize=function(y){return arguments.length?(C=x=+y,h):C},h.tickSizeInner=function(y){return arguments.length?(C=+y,h):C},h.tickSizeOuter=function(y){return arguments.length?(x=+y,h):x},h.tickPadding=function(y){return arguments.length?(N=+y,h):N},h.offset=function(y){return arguments.length?(I=+y,h):I},h}function Xn(n){return os(Ce,n)}function Yn(n){return os(Ke,n)}function Kn(n){return os(ve,n)}var Qn=Array.prototype,Zn=Qn.slice;function Jn(n,e){return n-e}function ta(n){for(var e=0,o=n.length,s=n[o-1][1]*n[0][0]-n[o-1][0]*n[0][1];++e<o;)s+=n[e-1][1]*n[e][0]-n[e-1][0]*n[e][1];return s}const gs=n=>()=>n;function ea(n,e){for(var o=-1,s=e.length,d;++o<s;)if(d=sa(n,e[o]))return d;return 0}function sa(n,e){for(var o=e[0],s=e[1],d=-1,C=0,x=n.length,N=x-1;C<x;N=C++){var I=n[C],p=I[0],l=I[1],f=n[N],h=f[0],y=f[1];if(na(I,f,e))return 0;l>s!=y>s&&o<(h-p)*(s-l)/(y-l)+p&&(d=-d)}return d}function na(n,e,o){var s;return aa(n,e,o)&&ia(n[s=+(n[0]===e[0])],o[s],e[s])}function aa(n,e,o){return(e[0]-n[0])*(o[1]-n[1])===(o[0]-n[0])*(e[1]-n[1])}function ia(n,e,o){return n<=e&&e<=o||o<=e&&e<=n}function oa(){}var Bt=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function ra(){var n=1,e=1,o=Hn,s=I;function d(p){var l=o(p);if(Array.isArray(l))l=l.slice().sort(Jn);else{const f=fe(p,la);for(l=sn(...Un(f[0],f[1],l),l);l[l.length-1]>=f[1];)l.pop();for(;l[1]<f[0];)l.shift()}return l.map(f=>C(p,f))}function C(p,l){const f=l==null?NaN:+l;if(isNaN(f))throw new Error(`invalid value: ${l}`);var h=[],y=[];return x(p,f,function($){s($,p,f),ta($)>0?h.push([$]):y.push($)}),y.forEach(function($){for(var A=0,P=h.length,j;A<P;++A)if(ea((j=h[A])[0],$)!==-1){j.push($);return}}),{type:"MultiPolygon",value:l,coordinates:h}}function x(p,l,f){var h=new Array,y=new Array,$,A,P,j,W,et;for($=A=-1,j=Wt(p[0],l),Bt[j<<1].forEach(K);++$<n-1;)P=j,j=Wt(p[$+1],l),Bt[P|j<<1].forEach(K);for(Bt[j<<0].forEach(K);++A<e-1;){for($=-1,j=Wt(p[A*n+n],l),W=Wt(p[A*n],l),Bt[j<<1|W<<2].forEach(K);++$<n-1;)P=j,j=Wt(p[A*n+n+$+1],l),et=W,W=Wt(p[A*n+$+1],l),Bt[P|j<<1|W<<2|et<<3].forEach(K);Bt[j|W<<3].forEach(K)}for($=-1,W=p[A*n]>=l,Bt[W<<2].forEach(K);++$<n-1;)et=W,W=Wt(p[A*n+$+1],l),Bt[W<<2|et<<3].forEach(K);Bt[W<<3].forEach(K);function K(O){var Y=[O[0][0]+$,O[0][1]+A],U=[O[1][0]+$,O[1][1]+A],u=N(Y),v=N(U),c,r;(c=y[u])?(r=h[v])?(delete y[c.end],delete h[r.start],c===r?(c.ring.push(U),f(c.ring)):h[c.start]=y[r.end]={start:c.start,end:r.end,ring:c.ring.concat(r.ring)}):(delete y[c.end],c.ring.push(U),y[c.end=v]=c):(c=h[v])?(r=y[u])?(delete h[c.start],delete y[r.end],c===r?(c.ring.push(U),f(c.ring)):h[r.start]=y[c.end]={start:r.start,end:c.end,ring:r.ring.concat(c.ring)}):(delete h[c.start],c.ring.unshift(Y),h[c.start=u]=c):h[u]=y[v]={start:u,end:v,ring:[Y,U]}}}function N(p){return p[0]*2+p[1]*(n+1)*4}function I(p,l,f){p.forEach(function(h){var y=h[0],$=h[1],A=y|0,P=$|0,j=Be(l[P*n+A]);y>0&&y<n&&A===y&&(h[0]=_s(y,Be(l[P*n+A-1]),j,f)),$>0&&$<e&&P===$&&(h[1]=_s($,Be(l[(P-1)*n+A]),j,f))})}return d.contour=C,d.size=function(p){if(!arguments.length)return[n,e];var l=Math.floor(p[0]),f=Math.floor(p[1]);if(!(l>=0&&f>=0))throw new Error("invalid size");return n=l,e=f,d},d.thresholds=function(p){return arguments.length?(o=typeof p=="function"?p:Array.isArray(p)?gs(Zn.call(p)):gs(p),d):o},d.smooth=function(p){return arguments.length?(s=p?I:oa,d):s===I},d}function la(n){return isFinite(n)?n:NaN}function Wt(n,e){return n==null?!1:+n>=e}function Be(n){return n==null||isNaN(n=+n)?-1/0:n}function _s(n,e,o,s){const d=s-e,C=o-e,x=isFinite(d)||isFinite(C)?d/C:Math.sign(d)/Math.sign(C);return isNaN(x)?n:n+x-.5}var ca=Math.PI,da=ca*2,ua=Math.abs,rs=Math.sqrt;function Lt(){}function Se(n,e){n&&ys.hasOwnProperty(n.type)&&ys[n.type](n,e)}var bs={Feature:function(n,e){Se(n.geometry,e)},FeatureCollection:function(n,e){for(var o=n.features,s=-1,d=o.length;++s<d;)Se(o[s].geometry,e)}},ys={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var o=n.coordinates,s=-1,d=o.length;++s<d;)n=o[s],e.point(n[0],n[1],n[2])},LineString:function(n,e){Qe(n.coordinates,e,0)},MultiLineString:function(n,e){for(var o=n.coordinates,s=-1,d=o.length;++s<d;)Qe(o[s],e,0)},Polygon:function(n,e){$s(n.coordinates,e)},MultiPolygon:function(n,e){for(var o=n.coordinates,s=-1,d=o.length;++s<d;)$s(o[s],e)},GeometryCollection:function(n,e){for(var o=n.geometries,s=-1,d=o.length;++s<d;)Se(o[s],e)}};function Qe(n,e,o){var s=-1,d=n.length-o,C;for(e.lineStart();++s<d;)C=n[s],e.point(C[0],C[1],C[2]);e.lineEnd()}function $s(n,e){var o=-1,s=n.length;for(e.polygonStart();++o<s;)Qe(n[o],e,1);e.polygonEnd()}function pe(n,e){n&&bs.hasOwnProperty(n.type)?bs[n.type](n,e):Se(n,e)}const pa=n=>n;var Ve=new re,Ze=new re,Ts,Is,Je,ts,jt={point:Lt,lineStart:Lt,lineEnd:Lt,polygonStart:function(){jt.lineStart=fa,jt.lineEnd=ha},polygonEnd:function(){jt.lineStart=jt.lineEnd=jt.point=Lt,Ve.add(ua(Ze)),Ze=new re},result:function(){var n=Ve/2;return Ve=new re,n}};function fa(){jt.point=va}function va(n,e){jt.point=Os,Ts=Je=n,Is=ts=e}function Os(n,e){Ze.add(ts*n-Je*e),Je=n,ts=e}function ha(){Os(Ts,Is)}const ws=jt;var le=1/0,Me=le,xe=-le,Ne=xe,ma={point:ga,lineStart:Lt,lineEnd:Lt,polygonStart:Lt,polygonEnd:Lt,result:function(){var n=[[le,Me],[xe,Ne]];return xe=Ne=-(Me=le=1/0),n}};function ga(n,e){n<le&&(le=n),n>xe&&(xe=n),e<Me&&(Me=e),e>Ne&&(Ne=e)}const xs=ma;var es=0,ss=0,he=0,Re=0,Ee=0,ee=0,ns=0,as=0,me=0,Us,Hs,Tt,It,Et={point:Yt,lineStart:ks,lineEnd:Cs,polygonStart:function(){Et.lineStart=ya,Et.lineEnd=$a},polygonEnd:function(){Et.point=Yt,Et.lineStart=ks,Et.lineEnd=Cs},result:function(){var n=me?[ns/me,as/me]:ee?[Re/ee,Ee/ee]:he?[es/he,ss/he]:[NaN,NaN];return es=ss=he=Re=Ee=ee=ns=as=me=0,n}};function Yt(n,e){es+=n,ss+=e,++he}function ks(){Et.point=_a}function _a(n,e){Et.point=ba,Yt(Tt=n,It=e)}function ba(n,e){var o=n-Tt,s=e-It,d=rs(o*o+s*s);Re+=d*(Tt+n)/2,Ee+=d*(It+e)/2,ee+=d,Yt(Tt=n,It=e)}function Cs(){Et.point=Yt}function ya(){Et.point=wa}function $a(){Bs(Us,Hs)}function wa(n,e){Et.point=Bs,Yt(Us=Tt=n,Hs=It=e)}function Bs(n,e){var o=n-Tt,s=e-It,d=rs(o*o+s*s);Re+=d*(Tt+n)/2,Ee+=d*(It+e)/2,ee+=d,d=It*n-Tt*e,ns+=d*(Tt+n),as+=d*(It+e),me+=d*3,Yt(Tt=n,It=e)}const zs=Et;function Vs(n){this._context=n}Vs.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,da);break}}},result:Lt};var is=new re,je,js,qs,ge,_e,Le={point:Lt,lineStart:function(){Le.point=xa},lineEnd:function(){je&&Gs(js,qs),Le.point=Lt},polygonStart:function(){je=!0},polygonEnd:function(){je=null},result:function(){var n=+is;return is=new re,n}};function xa(n,e){Le.point=Gs,js=ge=n,qs=_e=e}function Gs(n,e){ge-=n,_e-=e,is.add(rs(ge*ge+_e*_e)),ge=n,_e=e}const Ss=Le;let Ms,Pe,Ns,Rs;class Es{constructor(e){this._append=e==null?Ws:ka(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,o){switch(this._point){case 0:{this._append`M${e},${o}`,this._point=1;break}case 1:{this._append`L${e},${o}`;break}default:{if(this._append`M${e},${o}`,this._radius!==Ns||this._append!==Pe){const s=this._radius,d=this._;this._="",this._append`m0,${s}a${s},${s} 0 1,1 0,${-2*s}a${s},${s} 0 1,1 0,${2*s}z`,Ns=s,Pe=this._append,Rs=this._,this._=d}this._+=Rs;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Ws(n){let e=1;this._+=n[0];for(const o=n.length;e<o;++e)this._+=arguments[e]+n[e]}function ka(n){const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);if(e>15)return Ws;if(e!==Ms){const o=10**e;Ms=e,Pe=function(d){let C=1;this._+=d[0];for(const x=d.length;C<x;++C)this._+=Math.round(arguments[C]*o)/o+d[C]}}return Pe}function Ca(n,e){let o=3,s=4.5,d,C;function x(N){return N&&(typeof s=="function"&&C.pointRadius(+s.apply(this,arguments)),pe(N,d(C))),C.result()}return x.area=function(N){return pe(N,d(ws)),ws.result()},x.measure=function(N){return pe(N,d(Ss)),Ss.result()},x.bounds=function(N){return pe(N,d(xs)),xs.result()},x.centroid=function(N){return pe(N,d(zs)),zs.result()},x.projection=function(N){return arguments.length?(d=N==null?(n=null,pa):(n=N).stream,x):n},x.context=function(N){return arguments.length?(C=N==null?(e=null,new Es(o)):new Vs(e=N),typeof s!="function"&&C.pointRadius(s),x):e},x.pointRadius=function(N){return arguments.length?(s=typeof N=="function"?N:(C.pointRadius(+N),+N),x):s},x.digits=function(N){if(!arguments.length)return o;if(N==null)o=null;else{const I=Math.floor(N);if(!(I>=0))throw new RangeError(`invalid digits: ${N}`);o=I}return e===null&&(C=new Es(o)),x},x.projection(n).digits(o).context(e)}function za(){var n=0,e=1,o,s,d,C,x=As,N=!1,I;function p(f){return f==null||isNaN(f=+f)?I:x(d===0?.5:(f=(C(f)-o)*d,N?Math.max(0,Math.min(1,f)):f))}p.domain=function(f){return arguments.length?([n,e]=f,o=C(n=+n),s=C(e=+e),d=o===s?0:1/(s-o),p):[n,e]},p.clamp=function(f){return arguments.length?(N=!!f,p):N},p.interpolator=function(f){return arguments.length?(x=f,p):x};function l(f){return function(h){var y,$;return arguments.length?([y,$]=h,x=f(y,$),p):[x(0),x(1)]}}return p.range=l(Fs),p.rangeRound=l(on),p.unknown=function(f){return arguments.length?(I=f,p):I},function(f){return C=f,o=f(n),s=f(e),d=o===s?0:1/(s-o),p}}function Sa(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Xs(){var n=nn(za()(As));return n.copy=function(){return Sa(n,Xs())},an.apply(n,arguments)}function Te(n){var e=n.length;return function(o){return n[Math.max(0,Math.min(e-1,Math.floor(o*e)))]}}const Ma=Te(Ae("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Te(Ae("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Te(Ae("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));Te(Ae("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Na(n,e,o){var s=null,d=Nt(!0),C=null,x=qe,N=null,I=rn(p);n=typeof n=="function"?n:n===void 0?cn:Nt(+n),e=typeof e=="function"?e:e===void 0?Nt(0):Nt(+e),o=typeof o=="function"?o:o===void 0?dn:Nt(+o);function p(f){var h,y,$,A=(f=ln(f)).length,P,j=!1,W,et=new Array(A),K=new Array(A);for(C==null&&(N=x(W=I())),h=0;h<=A;++h){if(!(h<A&&d(P=f[h],h,f))===j)if(j=!j)y=h,N.areaStart(),N.lineStart();else{for(N.lineEnd(),N.lineStart(),$=h-1;$>=y;--$)N.point(et[$],K[$]);N.lineEnd(),N.areaEnd()}j&&(et[h]=+n(P,h,f),K[h]=+e(P,h,f),N.point(s?+s(P,h,f):et[h],o?+o(P,h,f):K[h]))}if(W)return N=null,W+""||null}function l(){return ze().defined(d).curve(x).context(C)}return p.x=function(f){return arguments.length?(n=typeof f=="function"?f:Nt(+f),s=null,p):n},p.x0=function(f){return arguments.length?(n=typeof f=="function"?f:Nt(+f),p):n},p.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Nt(+f),p):s},p.y=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),o=null,p):e},p.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),p):e},p.y1=function(f){return arguments.length?(o=f==null?null:typeof f=="function"?f:Nt(+f),p):o},p.lineX0=p.lineY0=function(){return l().x(n).y(e)},p.lineY1=function(){return l().x(n).y(o)},p.lineX1=function(){return l().x(s).y(e)},p.defined=function(f){return arguments.length?(d=typeof f=="function"?f:Nt(!!f),p):d},p.curve=function(f){return arguments.length?(x=f,C!=null&&(N=x(C)),p):x},p.context=function(f){return arguments.length?(f==null?C=N=null:N=x(C=f),p):C},p}const Ra={class:"neural-canvas-layout"},Ea=Mt({__name:"NeuralCanvas",props:{fullscreen:{type:Boolean}},setup(n,{expose:e}){const o=n,s=Vt(),d=dt(null),C=D(()=>s.filteredDataPoints.length===0||s.neurons.length===0?null:s.computeLoss(s.filteredDataPoints));function x(N){d.value&&(d.value.selectedNeuron=N,s.selectedNeuronForLandscape=N)}return e({canvasComponent:d,avgLoss:C,selectNeuron:x}),(N,I)=>(k(),R("div",Ra,[M(un,{ref_key:"canvasComponent",ref:d,width:600,height:600,fullscreen:o.fullscreen,"show-instructions":!0},null,8,["fullscreen"])]))}});const La=Rt(Ea,[["__scopeId","data-v-7cedf1ed"]]),Pa={class:"enhanced-metrics-panel"},Aa={class:"metrics-header"},Fa={class:"header-left"},Da={class:"panel-icon"},Ta={class:"status-indicator"},Ia={class:"quick-stats-grid"},Oa={class:"stat-card primary"},Ua={class:"stat-header"},Ha={class:"stat-value large"},Ba={class:"stat-card"},Va={class:"stat-header"},ja={class:"stat-value"},qa={class:"stat-card"},Ga={class:"stat-header"},Wa={class:"stat-value small"},Xa={class:"stat-meta"},Ya={class:"stat-card"},Ka={class:"stat-header"},Qa={class:"stat-value"},Za={class:"stat-meta"},Ja={class:"metrics-tabs"},ti={class:"tab-headers"},ei=["onClick"],si={class:"tab-content"},ni={key:0,class:"metrics-content"},ai={class:"metrics-section"},ii={class:"classification-metrics"},oi={class:"metric-row"},ri={class:"metric-value-bar"},li={class:"metric-bar"},ci={class:"metric-value"},di={class:"metric-row"},ui={class:"metric-value-bar"},pi={class:"metric-bar"},fi={class:"metric-value"},vi={class:"metric-row"},hi={class:"metric-value-bar"},mi={class:"metric-bar"},gi={class:"metric-value"},_i={class:"confusion-matrix-mini"},bi={class:"matrix-title"},yi={class:"matrix-subtitle"},$i={key:0,class:"matrix-grid binary"},wi={class:"matrix-cell header"},xi={class:"matrix-cell header"},ki={class:"matrix-cell label"},Ci={class:"matrix-cell value true-positive"},zi={class:"matrix-cell value false-negative"},Si={class:"matrix-cell label"},Mi={class:"matrix-cell value false-positive"},Ni={class:"matrix-cell value true-negative"},Ri={key:1,class:"matrix-multiclass"},Ei={class:"matrix-summary"},Li={class:"summary-item"},Pi={class:"summary-value correct"},Ai={class:"summary-item"},Fi={class:"summary-value incorrect"},Di={class:"summary-item"},Ti={class:"summary-value"},Ii={class:"class-metrics"},Oi={class:"class-label"},Ui={class:"class-stats"},Hi={class:"class-stat"},Bi={class:"stat-value"},Vi={class:"class-stat"},ji={class:"stat-value"},qi={class:"class-stat"},Gi={class:"stat-value"},Wi={key:2,class:"matrix-empty"},Xi={key:1,class:"metrics-content"},Yi={class:"metrics-section"},Ki={class:"progress-metrics"},Qi={class:"progress-item"},Zi={class:"progress-header"},Ji={class:"progress-value"},to={class:"progress-bar"},eo={class:"progress-details"},so={class:"training-stats-grid"},no={class:"training-stat"},ao={class:"stat-icon"},io={class:"stat-content"},oo={class:"stat-value"},ro={class:"training-stat"},lo={class:"stat-icon"},co={class:"stat-content"},uo={class:"stat-value"},po={class:"training-stat"},fo={class:"stat-icon"},vo={class:"stat-content"},ho={class:"stat-value"},mo={class:"training-stat"},go={class:"stat-icon"},_o={class:"stat-content"},bo={class:"stat-value"},yo={key:2,class:"metrics-content"},$o={class:"metrics-section"},wo={class:"network-analysis"},xo={class:"analysis-grid"},ko={class:"analysis-card"},Co={class:"card-header"},zo={class:"card-content"},So={class:"size-metric"},Mo={class:"size-value"},No={class:"size-metric"},Ro={class:"size-value"},Eo={class:"size-metric"},Lo={class:"size-value"},Po={class:"analysis-card"},Ao={class:"card-header"},Fo={class:"card-content"},Do={class:"efficiency-metric"},To={class:"eff-bar"},Io={class:"eff-value"},Oo={class:"efficiency-metric"},Uo={class:"eff-bar"},Ho={class:"eff-value"},Bo={class:"neuron-health"},Vo={class:"health-grid"},jo=["title"],qo={class:"health-status"},Go={class:"metrics-actions"},Wo=Mt({__name:"MetricsPanel",setup(n){const e=Vt(),o=ce(),s=dt("classification"),d=dt(!0),C=[{id:"classification",label:"Classification",icon:ye},{id:"training",label:"Training",icon:se},{id:"network",label:"Network",icon:Ot}],x=D(()=>e.optimizationHistory.isRunning),N=D(()=>e.accuracy||0),I=D(()=>e.currentLoss||0),p=D(()=>e.optimizationHistory.config.learningRate),l=D(()=>e.optimizationHistory.currentStep||0),f=D(()=>e.optimizationHistory.steps),h=D(()=>{if(f.value.length<2)return"neutral";const w=f.value.slice(-2),_=w[1].accuracy-w[0].accuracy;return _>.5?"up":_<-.5?"down":"neutral"}),y=D(()=>{if(f.value.length<2)return"neutral";const w=f.value.slice(-2),_=w[1].loss-w[0].loss;return _<-.001?"up":_>.001?"down":"neutral"}),$=D(()=>{if(f.value.length<2)return"—";const w=f.value.slice(-2),_=w[1].accuracy-w[0].accuracy;return`${_>=0?"+":""}${_.toFixed(1)}%`}),A=D(()=>{if(f.value.length<2)return"—";const w=f.value.slice(-2),_=w[1].loss-w[0].loss;return`${_>=0?"+":""}${_.toFixed(4)}`}),P=D(()=>{const w=p.value;return w>.01?"High":w>.001?"Normal":w>1e-4?"Low":"Very Low"}),j=D(()=>{const w=e.optimizationHistory.totalSteps||1;return Math.round(l.value/w*100)}),W=D(()=>e.filteredDataPoints.length===0||e.neurons.length===0?{precision:0,recall:0,f1Score:0,perClass:{}}:pn(e.filteredDataPoints,e.neurons,e.similarityMetric,e.activationFunction)),et=D(()=>W.value.precision*100),K=D(()=>W.value.recall*100),O=D(()=>W.value.f1Score*100),Y=D(()=>e.filteredDataPoints.length===0||e.neurons.length===0?{matrix:[],classes:[]}:fn(e.filteredDataPoints,e.neurons,e.similarityMetric,e.activationFunction)),U=D(()=>e.filteredDataPoints.length===0||e.neurons.length===0?{tp:0,tn:0,fp:0,fn:0}:vn(e.filteredDataPoints,e.neurons,e.similarityMetric,e.activationFunction)),u=D(()=>{const w=U.value;return Y.value.classes.length<=2?w:{tp:w.tp,tn:0,fp:w.fp,fn:0}}),v=D(()=>{const w=e.optimizationHistory.totalSteps||1;return Math.round(l.value/w*100)}),c=D(()=>e.optimizationHistory.totalSteps||0),r=D(()=>{if(!x.value||f.value.length<2)return"—";const w=f.value.slice(-10);if(w.length<2)return"—";const _=(Date.now()-(w[0]?.timestamp||0))/w.length,q=(c.value-l.value)*_;return q<6e4?`${Math.round(q/1e3)}s`:q<36e5?`${Math.round(q/6e4)}m`:`${Math.round(q/36e5)}h`}),i=D(()=>{if(f.value.length<2)return 0;const w=f.value.slice(-10);if(w.length<2)return 0;const _=(w[w.length-1]?.timestamp||0)-(w[0]?.timestamp||0);return _<=0?0:(w.length-1)/(_/1e3)}),g=D(()=>f.value.length===0?0:Math.min(...f.value.map(w=>w.loss))),F=D(()=>f.value.length===0?0:Math.max(...f.value.map(w=>w.accuracy))),Q=D(()=>{const w=f.value.map(T=>T.loss).slice(-10);if(w.length<5)return"Starting";const _=w.reduce((T,q)=>T+Math.pow(q-w[0],2),0)/w.length;return _<1e-4?"Converged":_<.001?"Converging":"Training"}),nt=D(()=>({neurons:e.neurons.length,parameters:e.neurons.length*4,connections:e.neurons.length*(e.neurons.length-1)})),G=D(()=>{const _=e.dataPoints.length*.01,T=e.neurons.length*2;return Math.min(Math.round(20+_+T),100)}),at=D(()=>{const _=e.dataPoints.length*.02,T=e.neurons.length*3,q=x.value?2:1;return Math.min(Math.round((10+_+T)*q),100)}),V=D(()=>e.neurons.map(w=>{let _="healthy",T="Normal activity";const q=e.filteredDataPoints.filter(it=>e.getPrediction(it.x,it.y).winningNeuron?.id===w.id);return q.length===0?(_="inactive",T="No assigned data points"):q.length>e.filteredDataPoints.length*.8&&(_="overactive",T="Dominates most predictions"),{id:w.id,color:w.color,status:_,description:T}})),rt=D(()=>f.value.length>0);function X(w){switch(w){case"up":return Oe;case"down":return Ge;default:return ds}}function H(w){switch(w){case"healthy":return Oe;case"inactive":return ds;case"overactive":return Ge;default:return Oe}}function B(){const w={accuracy:f.value.map(it=>it.accuracy),loss:f.value.map(it=>it.loss),classificationMetrics:W.value,confusionMatrix:Y.value,timestamp:new Date().toISOString()},_=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),T=URL.createObjectURL(_),q=document.createElement("a");q.href=T,q.download=`neural-network-metrics-${Date.now()}.json`,q.click(),URL.revokeObjectURL(T),o.addNotification({message:"Performance metrics have been exported successfully",type:"success"})}function z(){confirm("Are you sure you want to reset all metrics data?")&&(e.clearOptimizationHistory(),o.addNotification({message:"All metrics data has been cleared",type:"info"}))}function S(){d.value=!d.value,o.addNotification({message:`Metrics will ${d.value?"automatically":"manually"} update`,type:"info"})}return(w,_)=>(k(),R("div",Pa,[t("div",Aa,[t("div",Fa,[t("div",Da,[M(m(Pt),{class:"w-5 h-5"})]),_[0]||(_[0]=t("div",{class:"panel-title"},[t("h3",null,"Performance Metrics"),t("div",{class:"panel-subtitle"}," Real-time network performance analytics ")],-1))]),t("div",{class:vt(["metrics-status",{recording:x.value}])},[t("div",Ta,[_[1]||(_[1]=t("div",{class:"status-dot"},null,-1)),t("span",null,b(x.value?"Recording":"Idle"),1)])],2)]),t("div",Ia,[t("div",Oa,[t("div",Ua,[M(m(ye),{class:"w-4 h-4"}),_[2]||(_[2]=t("span",{class:"stat-title"},"Accuracy",-1))]),t("div",Ha,b(N.value.toFixed(1))+"%",1),t("div",{class:vt(["stat-change",h.value])},[(k(),pt(Ct(X(h.value)),{class:"w-3 h-3"})),t("span",null,b($.value),1)],2)]),t("div",Ba,[t("div",Va,[M(m(se),{class:"w-4 h-4"}),_[3]||(_[3]=t("span",{class:"stat-title"},"Loss",-1))]),t("div",ja,b(I.value.toFixed(4)),1),t("div",{class:vt(["stat-change",y.value])},[(k(),pt(Ct(X(y.value)),{class:"w-3 h-3"})),t("span",null,b(A.value),1)],2)]),t("div",qa,[t("div",Ga,[M(m(qt),{class:"w-4 h-4"}),_[4]||(_[4]=t("span",{class:"stat-title"},"Learning Rate",-1))]),t("div",Wa,b(p.value.toFixed(4)),1),t("div",Xa,b(P.value),1)]),t("div",Ya,[t("div",Ka,[M(m(Ot),{class:"w-4 h-4"}),_[5]||(_[5]=t("span",{class:"stat-title"},"Step",-1))]),t("div",Qa,b(l.value),1),t("div",Za,b(j.value)+"% complete",1)])]),t("div",Ja,[t("div",ti,[(k(),R(_t,null,bt(C,T=>t("button",{key:T.id,onClick:q=>s.value=T.id,class:vt(["tab-header",{active:s.value===T.id}])},[(k(),pt(Ct(T.icon),{class:"w-4 h-4"})),t("span",null,b(T.label),1)],10,ei)),64))]),t("div",si,[s.value==="classification"?(k(),R("div",ni,[t("div",ai,[_[19]||(_[19]=t("h4",{class:"section-title"},"Classification Performance",-1)),t("div",ii,[t("div",oi,[_[6]||(_[6]=t("div",{class:"metric-label"},"Precision",-1)),t("div",ri,[t("div",li,[t("div",{class:"bar-fill precision",style:$t({width:`${et.value}%`})},null,4)]),t("span",ci,b(et.value.toFixed(1))+"%",1)])]),t("div",di,[_[7]||(_[7]=t("div",{class:"metric-label"},"Recall",-1)),t("div",ui,[t("div",pi,[t("div",{class:"bar-fill recall",style:$t({width:`${K.value}%`})},null,4)]),t("span",fi,b(K.value.toFixed(1))+"%",1)])]),t("div",vi,[_[8]||(_[8]=t("div",{class:"metric-label"},"F1 Score",-1)),t("div",hi,[t("div",mi,[t("div",{class:"bar-fill f1",style:$t({width:`${O.value}%`})},null,4)]),t("span",gi,b(O.value.toFixed(1))+"%",1)])])]),t("div",_i,[t("h5",bi,[_[9]||(_[9]=tt(" Confusion Matrix ")),t("span",yi,"("+b(Y.value.classes.length)+" classes)",1)]),Y.value.classes.length<=2?(k(),R("div",$i,[_[10]||(_[10]=t("div",{class:"matrix-cell header"},"Predicted",-1)),t("div",wi,b(Y.value.classes[1]||"Positive"),1),t("div",xi,b(Y.value.classes[0]||"Negative"),1),t("div",ki,b(Y.value.classes[1]||"Positive"),1),t("div",Ci,b(u.value.tp),1),t("div",zi,b(u.value.fn),1),t("div",Si,b(Y.value.classes[0]||"Negative"),1),t("div",Mi,b(u.value.fp),1),t("div",Ni,b(u.value.tn),1)])):Y.value.classes.length>2?(k(),R("div",Ri,[t("div",Ei,[t("div",Li,[_[11]||(_[11]=t("span",{class:"summary-label"},"Correct",-1)),t("span",Pi,b(u.value.tp),1)]),t("div",Ai,[_[12]||(_[12]=t("span",{class:"summary-label"},"Incorrect",-1)),t("span",Fi,b(u.value.fp),1)]),t("div",Di,[_[13]||(_[13]=t("span",{class:"summary-label"},"Total",-1)),t("span",Ti,b(u.value.tp+u.value.fp),1)])]),t("div",Ii,[_[17]||(_[17]=t("h6",{class:"class-metrics-title"},"Per-Class Performance",-1)),(k(!0),R(_t,null,bt(Y.value.classes,T=>(k(),R("div",{key:T,class:"class-metric-row"},[t("div",Oi,"Class "+b(T),1),t("div",Ui,[t("div",Hi,[_[14]||(_[14]=t("span",{class:"stat-name"},"P:",-1)),t("span",Bi,b(W.value.perClass[T]?.precision?(W.value.perClass[T].precision*100).toFixed(1):"0.0")+"%",1)]),t("div",Vi,[_[15]||(_[15]=t("span",{class:"stat-name"},"R:",-1)),t("span",ji,b(W.value.perClass[T]?.recall?(W.value.perClass[T].recall*100).toFixed(1):"0.0")+"%",1)]),t("div",qi,[_[16]||(_[16]=t("span",{class:"stat-name"},"F1:",-1)),t("span",Gi,b(W.value.perClass[T]?.f1Score?(W.value.perClass[T].f1Score*100).toFixed(1):"0.0")+"%",1)])])]))),128))])])):(k(),R("div",Wi,_[18]||(_[18]=[t("p",null,"No classification data available",-1),t("p",{class:"empty-hint"},"Add data points and neurons to see metrics",-1)])))])])])):Z("",!0),s.value==="training"?(k(),R("div",Xi,[t("div",Yi,[_[25]||(_[25]=t("h4",{class:"section-title"},"Training Progress",-1)),t("div",Ki,[t("div",Qi,[t("div",Zi,[_[20]||(_[20]=t("span",{class:"progress-label"},"Overall Progress",-1)),t("span",Ji,b(v.value)+"%",1)]),t("div",to,[t("div",{class:"progress-fill",style:$t({width:`${v.value}%`})},null,4)]),t("div",eo,[t("span",null,b(l.value)+" / "+b(c.value)+" steps",1),t("span",null,"ETA: "+b(r.value),1)])]),t("div",so,[t("div",no,[t("div",ao,[M(m(qt),{class:"w-4 h-4"})]),t("div",io,[_[21]||(_[21]=t("div",{class:"stat-label"},"Steps/sec",-1)),t("div",oo,b(i.value.toFixed(1)),1)])]),t("div",ro,[t("div",lo,[M(m(se),{class:"w-4 h-4"})]),t("div",co,[_[22]||(_[22]=t("div",{class:"stat-label"},"Best Loss",-1)),t("div",uo,b(g.value.toFixed(4)),1)])]),t("div",po,[t("div",fo,[M(m(ye),{class:"w-4 h-4"})]),t("div",vo,[_[23]||(_[23]=t("div",{class:"stat-label"},"Best Accuracy",-1)),t("div",ho,b(F.value.toFixed(1))+"%",1)])]),t("div",mo,[t("div",go,[M(m(Ut),{class:"w-4 h-4"})]),t("div",_o,[_[24]||(_[24]=t("div",{class:"stat-label"},"Convergence",-1)),t("div",bo,b(Q.value),1)])])])])])])):Z("",!0),s.value==="network"?(k(),R("div",yo,[t("div",$o,[_[34]||(_[34]=t("h4",{class:"section-title"},"Network Analysis",-1)),t("div",wo,[t("div",xo,[t("div",ko,[t("div",Co,[M(m(Ot),{class:"w-4 h-4"}),_[26]||(_[26]=t("span",null,"Network Size",-1))]),t("div",zo,[t("div",So,[_[27]||(_[27]=t("span",{class:"size-label"},"Neurons",-1)),t("span",Mo,b(nt.value.neurons),1)]),t("div",No,[_[28]||(_[28]=t("span",{class:"size-label"},"Parameters",-1)),t("span",Ro,b(nt.value.parameters),1)]),t("div",Eo,[_[29]||(_[29]=t("span",{class:"size-label"},"Connections",-1)),t("span",Lo,b(nt.value.connections),1)])])]),t("div",Po,[t("div",Ao,[M(m(Pt),{class:"w-4 h-4"}),_[30]||(_[30]=t("span",null,"Efficiency",-1))]),t("div",Fo,[t("div",Do,[_[31]||(_[31]=t("span",{class:"eff-label"},"Memory Usage",-1)),t("div",To,[t("div",{class:"eff-fill",style:$t({width:`${G.value}%`})},null,4)]),t("span",Io,b(G.value)+"%",1)]),t("div",Oo,[_[32]||(_[32]=t("span",{class:"eff-label"},"Compute Load",-1)),t("div",Uo,[t("div",{class:"eff-fill",style:$t({width:`${at.value}%`})},null,4)]),t("span",Ho,b(at.value)+"%",1)])])])]),t("div",Bo,[_[33]||(_[33]=t("h5",{class:"health-title"},"Neuron Health Overview",-1)),t("div",Vo,[(k(!0),R(_t,null,bt(V.value,T=>(k(),R("div",{key:T.id,class:vt(["neuron-health-item",T.status]),title:`Neuron ${T.id}: ${T.description}`},[t("div",{class:"neuron-indicator",style:$t({backgroundColor:T.color})},b(T.id),5),t("div",qo,[(k(),pt(Ct(H(T.status)),{class:"w-3 h-3"}))])],10,jo))),128))])])])])])):Z("",!0)])]),t("div",Go,[M(m(lt),{onClick:B,variant:"outline",size:"sm",disabled:!rt.value},{default:st(()=>[M(m(Fe),{class:"w-4 h-4"}),_[35]||(_[35]=tt(" Export Metrics "))]),_:1,__:[35]},8,["disabled"]),M(m(lt),{onClick:z,variant:"outline",size:"sm",disabled:!rt.value},{default:st(()=>[M(m(Gt),{class:"w-4 h-4"}),_[36]||(_[36]=tt(" Reset "))]),_:1,__:[36]},8,["disabled"]),M(m(lt),{onClick:S,variant:d.value?"default":"outline",size:"sm"},{default:st(()=>[M(m(qt),{class:"w-4 h-4"}),tt(" "+b(d.value?"Auto":"Manual"),1)]),_:1},8,["variant"])])]))}});const Xo=Rt(Wo,[["__scopeId","data-v-431370fe"]]),Yo={class:"loss-landscape-container"},Ko={class:"landscape-header"},Qo={class:"flex items-center glass-effect px-3 py-1 rounded-full text-sm font-semibold text-theme-primary"},Zo={key:0,class:"empty-state"},Jo={key:1,class:"landscape-content"},tr=["width","height"],er=["width","height"],sr={class:"landscape-heatmap"},nr=["x","y","fill","onMouseenter"],ar={key:0,class:"contour-lines"},ir=["d"],or={key:1,class:"optimization-trail"},rr=["d","stroke"],lr=["cx","cy","fill","opacity"],cr={key:2,class:"neuron-marker"},dr=["cx","cy"],ur=["cx","cy","fill"],pr=["cx","cy"],fr={class:"crosshairs",opacity:.5},vr=["y1","x2","y2"],hr=["x1","x2","y2"],mr={class:"axes-labels"},gr=["x","y"],_r=["y"],br={class:"legend"},yr={class:"legend-bar"},$r={class:"legend-labels"},wr={class:"legend-min"},xr={class:"legend-max"},kr={key:0,class:"stats-panel"},Cr={class:"stat-item"},zr={class:"stat-value"},Sr={class:"stat-item"},Mr={class:"stat-value"},Nr={class:"stat-item"},Rr={key:2,class:"loading-overlay"},Er={class:"loading-content"},Lr={class:"loading-progress"},Pr=["innerHTML"],Ar=Mt({__name:"LossLandscape",setup(n){const e=Vt(),o=dt(),s={width:400,height:400,landscapeSize:40,range:.8},d=s.width/s.landscapeSize,C=dt({visible:!1,x:0,y:0,content:""}),x=dt(!1),N=dt(0),I=dt([]),p=D(()=>e.selectedNeuronForLandscape?U.value(e.selectedNeuronForLandscape.x):0),l=D(()=>e.selectedNeuronForLandscape?u.value(e.selectedNeuronForLandscape.y):0),f=D(()=>e.selectedNeuronForLandscape?.color||"#ff6b6b"),h=D(()=>I.value.length===0?0:Math.min(...I.value.map(i=>i.loss))),y=D(()=>I.value.length===0?1:Math.max(...I.value.map(i=>i.loss))),$=D(()=>{const i=e.selectedNeuronForLandscape;if(!i||!e.filteredDataPoints.length)return null;const g=e.computeLoss(e.filteredDataPoints);return{x:i.x,y:i.y,loss:g}}),A=D(()=>{const i=e.selectedNeuronForLandscape;return i?e.optimizationHistory.steps.map(g=>g.neurons.find(F=>F.id===i.id)).filter(g=>g!==void 0).slice(-20):[]}),P=D(()=>A.value.length<2?"":ze().x(F=>U.value(F.x)).y(F=>u.value(F.y)).curve(ke)(A.value)||""),j=D(()=>{if(I.value.length===0)return[];try{const i=I.value.map(Q=>Q.loss);return ra().size([s.landscapeSize,s.landscapeSize]).thresholds(5)(i).map(Q=>({level:Q.value,path:Ca()(Q)||""}))}catch(i){return console.warn("Error generating contours:",i),[]}}),W=i=>{const g=h.value,F=y.value;if(F===g)return"#440154";const Q=(i-g)/(F-g),nt=["#440154","#31688e","#35b779","#fde725"],G=Math.floor(Q*(nt.length-1)),at=Q*(nt.length-1)-G;if(G>=nt.length-1)return nt[nt.length-1];const V=us(nt[G]),rt=us(nt[G+1]);return!V||!rt?nt[G]:Fs(V,rt)(at)},et=D(()=>I.value);let K=null;const O=async()=>{const i=e.selectedNeuronForLandscape;if(!(!i||e.filteredDataPoints.length===0||x.value)){x.value=!0,N.value=0;try{const g=[],F=i.x,Q=i.y,nt=s.landscapeSize*s.landscapeSize;let G=0;const at=Math.ceil(s.landscapeSize/8);for(let V=0;V<s.landscapeSize;V+=at){const rt=Math.min(V+at,s.landscapeSize);for(let X=V;X<rt;X++)for(let H=0;H<s.landscapeSize;H++){const B=F+(X/s.landscapeSize-.5)*2*s.range,z=Q+(H/s.landscapeSize-.5)*2*s.range,S=Y(B,z,i);g.push({x:B,y:z,loss:S,screenX:X*d,screenY:H*d}),G++,N.value=G/nt*100}await new Promise(X=>requestAnimationFrame(X))}I.value=g}finally{x.value=!1,N.value=100}}},Y=(i,g,F)=>{const Q=Math.min(50,e.filteredDataPoints.length),nt=e.filteredDataPoints.slice(0,Q),G={...F,x:i,y:g},at=e.neurons.map(rt=>rt.id===F.id?G:rt);let V=0;for(const rt of nt){const X=at.map(_=>e.calculateScore(_,rt.x,rt.y)),H=Math.max(...X),B=X.map(_=>Math.exp(_-H)),z=B.reduce((_,T)=>_+T,0),S=B.map(_=>Math.max(_/(z+1e-8),1e-8)),w=at.findIndex(_=>_.id===rt.label);w!==-1?V+=-Math.log(S[w]):V+=-Math.log(1e-8)}return V/nt.length},U=D(()=>{const i=e.selectedNeuronForLandscape;return i?Dt().domain([i.x-s.range,i.x+s.range]).range([0,s.width]):Dt().domain([0,1]).range([0,s.width])}),u=D(()=>{const i=e.selectedNeuronForLandscape;return i?Dt().domain([i.y-s.range,i.y+s.range]).range([s.height,0]):Dt().domain([0,1]).range([0,s.height])}),v=i=>{const g=i.target.getBoundingClientRect(),F=i.clientX-g.left,Q=i.clientY-g.top,nt=Math.floor(F/d),G=Math.floor(Q/d),at=I.value.find(V=>V.screenX===nt*d&&V.screenY===G*d);at&&c(i,at)},c=(i,g)=>{C.value={visible:!0,x:i.clientX+15,y:i.clientY-30,content:`
      <div class="tooltip-content">
        <div class="tooltip-title">Loss Landscape</div>
        <div class="tooltip-row">
          <span class="tooltip-label">Position:</span>
          <span class="tooltip-value">(${g.x.toFixed(3)}, ${g.y.toFixed(3)})</span>
        </div>
        <div class="tooltip-row">
          <span class="tooltip-label">Loss:</span>
          <span class="tooltip-value">${g.loss.toFixed(4)}</span>
        </div>
      </div>
    `}},r=()=>{C.value.visible=!1};return Jt(()=>e.selectedNeuronForLandscape,i=>{K&&clearTimeout(K),i?(I.value=[],K=setTimeout(O,200)):I.value=[]}),Jt(()=>e.filteredDataPoints.length,()=>{K&&clearTimeout(K),e.selectedNeuronForLandscape&&(K=setTimeout(O,300))}),Jt(()=>e.selectedNeuronForLandscape?[e.selectedNeuronForLandscape.x,e.selectedNeuronForLandscape.y]:null,()=>{if(K&&clearTimeout(K),e.selectedNeuronForLandscape){const i=e.optimizationHistory.isRunning?500:200;K=setTimeout(O,i)}},{deep:!0}),Jt(()=>e.optimizationHistory.isRunning,i=>{!i&&e.selectedNeuronForLandscape&&(K&&clearTimeout(K),K=setTimeout(O,100))}),(i,g)=>(k(),R("div",Yo,[t("div",Ko,[t("div",Qo,[M(m(Ds),{class:"w-4 h-4 mr-2 text-indigo-500"}),g[0]||(g[0]=tt(" Loss Landscape "))])]),m(e).selectedNeuronForLandscape?(k(),R("div",Jo,[(k(),R("svg",{ref_key:"landscapeRef",ref:o,width:s.width,height:s.height,class:"loss-landscape-svg",onMousemove:v,onMouseleave:r},[g[2]||(g[2]=ne('<defs data-v-5bf74f62><linearGradient id="lossGradient" x1="0%" y1="0%" x2="100%" y2="0%" data-v-5bf74f62><stop offset="0%" style="stop-color:#440154;stop-opacity:1;" data-v-5bf74f62></stop><stop offset="25%" style="stop-color:#31688e;stop-opacity:1;" data-v-5bf74f62></stop><stop offset="50%" style="stop-color:#35b779;stop-opacity:1;" data-v-5bf74f62></stop><stop offset="75%" style="stop-color:#fde725;stop-opacity:1;" data-v-5bf74f62></stop><stop offset="100%" style="stop-color:#fff5b0;stop-opacity:1;" data-v-5bf74f62></stop></linearGradient><filter id="neuronGlow" data-v-5bf74f62><feGaussianBlur stdDeviation="3" result="coloredBlur" data-v-5bf74f62></feGaussianBlur><feMerge data-v-5bf74f62><feMergeNode in="coloredBlur" data-v-5bf74f62></feMergeNode><feMergeNode in="SourceGraphic" data-v-5bf74f62></feMergeNode></feMerge></filter></defs>',1)),t("rect",{x:"0",y:"0",width:s.width,height:s.height,fill:"#1a1a1a",rx:"8"},null,8,er),t("g",sr,[(k(!0),R(_t,null,bt(et.value,(F,Q)=>(k(),R("rect",{key:`cell-${Q}`,x:F.screenX,y:F.screenY,width:d,height:d,fill:W(F.loss),opacity:.8,class:"landscape-cell",onMouseenter:nt=>c(nt,F)},null,40,nr))),128))]),j.value.length>0?(k(),R("g",ar,[(k(!0),R(_t,null,bt(j.value,(F,Q)=>(k(),R("path",{key:`contour-${Q}`,d:F.path,fill:"none",stroke:"rgba(255, 255, 255, 0.3)","stroke-width":"1",class:"contour-line"},null,8,ir))),128))])):Z("",!0),A.value.length>1?(k(),R("g",or,[t("path",{d:P.value,fill:"none",stroke:f.value,"stroke-width":"2","stroke-opacity":"0.7","stroke-dasharray":"3,3",class:"trail-path"},null,8,rr),(k(!0),R(_t,null,bt(A.value.slice(-10),(F,Q)=>(k(),R("circle",{key:`trail-${Q}`,cx:U.value(F.x),cy:u.value(F.y),r:2,fill:f.value,opacity:.3+Q/10*.7,class:"trail-point"},null,8,lr))),128))])):Z("",!0),m(e).selectedNeuronForLandscape?(k(),R("g",cr,[t("circle",{cx:p.value+2,cy:l.value+2,r:8,fill:"rgba(0, 0, 0, 0.3)",class:"neuron-shadow"},null,8,dr),t("circle",{cx:p.value,cy:l.value,r:8,fill:f.value,stroke:"white","stroke-width":"2",filter:"url(#neuronGlow)",class:"neuron-position"},null,8,ur),t("circle",{cx:p.value,cy:l.value,r:2,fill:"white",class:"neuron-center"},null,8,pr),t("g",fr,[t("line",{x1:0,y1:l.value,x2:s.width,y2:l.value,stroke:"white","stroke-width":"1","stroke-dasharray":"2,2"},null,8,vr),t("line",{x1:p.value,y1:0,x2:p.value,y2:s.height,stroke:"white","stroke-width":"1","stroke-dasharray":"2,2"},null,8,hr)])])):Z("",!0),t("g",mr,[t("text",{x:s.width/2,y:s.height-5,"text-anchor":"middle",fill:"white","font-size":"10",opacity:"0.7"}," X Position ",8,gr),t("text",{x:10,y:s.height/2,"text-anchor":"middle",fill:"white","font-size":"10",opacity:"0.7",transform:"rotate(-90, 10, 160)"}," Y Position ",8,_r)])],40,tr)),t("div",br,[g[4]||(g[4]=t("div",{class:"legend-title"},"Loss",-1)),t("div",yr,[g[3]||(g[3]=t("div",{class:"legend-gradient"},null,-1)),t("div",$r,[t("span",wr,b(h.value.toFixed(2)),1),t("span",xr,b(y.value.toFixed(2)),1)])])]),$.value?(k(),R("div",kr,[t("div",Cr,[g[5]||(g[5]=t("span",{class:"stat-label"},"Current Loss:",-1)),t("span",zr,b($.value.loss.toFixed(4)),1)]),t("div",Sr,[g[6]||(g[6]=t("span",{class:"stat-label"},"Position:",-1)),t("span",Mr,"("+b($.value.x.toFixed(3))+", "+b($.value.y.toFixed(3))+")",1)]),t("div",Nr,[g[7]||(g[7]=t("span",{class:"stat-label"},"Neuron:",-1)),t("span",{class:"stat-value",style:$t({color:f.value})},b(m(e).selectedNeuronForLandscape.id),5)])])):Z("",!0)])):(k(),R("div",Zo,[M(m(De),{class:"w-16 h-16 mx-auto mb-3 opacity-40"}),g[1]||(g[1]=t("p",{class:"text-theme-secondary text-sm"},"Select a neuron to view its loss landscape",-1))])),x.value?(k(),R("div",Rr,[t("div",Er,[g[8]||(g[8]=t("div",{class:"loading-spinner"},null,-1)),g[9]||(g[9]=t("span",{class:"loading-text"},"Calculating Loss Landscape...",-1)),t("div",Lr,[t("div",{class:"progress-bar",style:$t({width:N.value+"%"})},null,4)])])])):Z("",!0),C.value.visible?(k(),R("div",{key:3,class:"landscape-tooltip",style:$t({left:C.value.x+"px",top:C.value.y+"px"}),innerHTML:C.value.content},null,12,Pr)):Z("",!0)]))}});const Fr=Rt(Ar,[["__scopeId","data-v-5bf74f62"]]),Dr={class:"neuron-management-panel"},Tr={class:"panel-header"},Ir={class:"header-left"},Or={class:"panel-icon"},Ur={class:"panel-title"},Hr={class:"panel-subtitle"},Br={class:"header-actions"},Vr={class:"panel-content"},jr={key:0,class:"neuron-editor"},qr={class:"editor-header"},Gr={class:"neuron-identifier"},Wr={class:"neuron-info"},Xr={class:"control-section"},Yr={class:"section-title"},Kr={class:"position-controls"},Qr={class:"coordinate-group"},Zr={class:"coordinate-input-wrapper"},Jr=["min","max"],tl={class:"coordinate-range"},el={class:"coordinate-group"},sl={class:"coordinate-input-wrapper"},nl=["min","max"],al={class:"coordinate-range"},il={class:"position-presets"},ol={class:"preset-buttons"},rl=["onClick","title"],ll={class:"control-section"},cl={class:"section-title"},dl={class:"appearance-controls"},ul={class:"color-control"},pl={class:"color-picker-wrapper"},fl={class:"color-info"},vl={class:"color-value"},hl={class:"color-presets"},ml={class:"preset-colors"},gl=["onClick","title"],_l={class:"control-section"},bl={class:"section-title"},yl={class:"performance-metrics"},$l={class:"metric-item"},wl={class:"metric-value-wrapper"},xl={class:"metric-value"},kl={class:"metric-bar"},Cl={class:"metric-item"},zl={class:"metric-value-wrapper"},Sl={class:"metric-value"},Ml={class:"metric-description"},Nl={class:"metric-item"},Rl={class:"metric-value-wrapper"},El={class:"metric-value"},Ll={class:"metric-description"},Pl={class:"control-section"},Al={class:"section-title"},Fl={class:"action-buttons"},Dl={key:1,class:"neurons-list-container"},Tl={class:"list-header"},Il={class:"list-controls"},Ol={class:"sort-control"},Ul={class:"view-control"},Hl={key:0,class:"empty-neurons"},Bl={class:"empty-icon"},Vl=["onClick"],jl={class:"neuron-card-header"},ql={class:"neuron-basic-info"},Gl={class:"neuron-name"},Wl={class:"neuron-coords"},Xl={class:"neuron-card-metrics"},Yl={class:"mini-metric"},Kl={class:"mini-value"},Ql={class:"mini-metric"},Zl={class:"mini-value"},Jl={class:"neuron-card-actions"},tc=["onClick"],ec=["onClick"],sc={key:2,class:"list-statistics"},nc={class:"stat-item"},ac={class:"stat-value"},ic={class:"stat-item"},oc={class:"stat-value"},rc={class:"stat-item"},lc={class:"stat-value"},cc=Mt({__name:"NeuronManagement",props:{neurons:{},selectedNeuron:{},coordinateRanges:{},getControlledArea:{type:Function},getAverageScore:{type:Function}},emits:["select","close","update-position","update-color","remove","add-neuron"],setup(n,{emit:e}){const o=n,s=e,d=dt("id"),C=dt("grid"),x=[{name:"Center",x:0,y:0,description:"Move to center"},{name:"Top-Left",x:-.8,y:.8,description:"Move to top-left corner"},{name:"Top-Right",x:.8,y:.8,description:"Move to top-right corner"},{name:"Bottom-Left",x:-.8,y:-.8,description:"Move to bottom-left corner"},{name:"Bottom-Right",x:.8,y:-.8,description:"Move to bottom-right corner"}],N=["#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#3b82f6","#6366f1","#8b5cf6","#ec4899","#f43f5e"],I=D(()=>o.selectedNeuron?o.getControlledArea(o.selectedNeuron):0),p=D(()=>o.selectedNeuron?o.getAverageScore(o.selectedNeuron):0),l=D(()=>{if(!o.selectedNeuron)return"None";const c=I.value;return c>40?"High":c>20?"Medium":c>5?"Low":"Minimal"}),f=D(()=>{const c=[...o.neurons];return d.value==="id"?c.sort((r,i)=>r.id-i.id):d.value==="position"?c.sort((r,i)=>{const g=Math.sqrt(r.x*r.x+r.y*r.y),F=Math.sqrt(i.x*i.x+i.y*i.y);return g-F}):d.value==="area"?c.sort((r,i)=>o.getControlledArea(i)-o.getControlledArea(r)):d.value==="score"?c.sort((r,i)=>o.getAverageScore(i)-o.getAverageScore(r)):c}),h=D(()=>o.neurons.reduce((c,r)=>c+A(r),0)),y=D(()=>{if(o.neurons.length<2)return 0;let c=0,r=0;for(let i=0;i<o.neurons.length;i++)for(let g=i+1;g<o.neurons.length;g++){const F=o.neurons[i].x-o.neurons[g].x,Q=o.neurons[i].y-o.neurons[g].y;c+=Math.sqrt(F*F+Q*Q),r++}return r>0?c/r:0}),$=D(()=>{const c=o.neurons.length/4;return c<.5?"Sparse":c<1.5?"Moderate":c<3?"Dense":"Very Dense"});function A(c){return o.getControlledArea(c)}function P(c){return o.getAverageScore(c)}function j(c){return c>.8?"Excellent":c>.5?"Good":c>.2?"Average":c>0?"Poor":"Very Poor"}function W(c){switch(c){case"High":return"Dominates classification";case"Medium":return"Significant influence";case"Low":return"Minor influence";case"Minimal":return"Little influence";default:return"No influence"}}function et(c){o.selectedNeuron&&(o.selectedNeuron.x=c.x,o.selectedNeuron.y=c.y,s("update-position"))}function K(c){o.selectedNeuron&&(o.selectedNeuron.color=c,s("update-color"))}function O(){o.selectedNeuron&&s("add-neuron",o.selectedNeuron.x+.1,o.selectedNeuron.y+.1)}function Y(){et({x:0,y:0})}function U(){if(o.selectedNeuron){const c=(Math.random()-.5)*1.6,r=(Math.random()-.5)*1.6;o.selectedNeuron.x=c,o.selectedNeuron.y=r,s("update-position")}}function u(){const c=(Math.random()-.5)*1.6,r=(Math.random()-.5)*1.6;s("add-neuron",c,r)}function v(){confirm("Are you sure you want to delete all neurons?")&&o.neurons.forEach(c=>{s("remove",c.id)})}return(c,r)=>(k(),R("div",Dr,[t("div",Tr,[t("div",Ir,[t("div",Or,[M(m(Ot),{class:"w-5 h-5"})]),t("div",Ur,[r[11]||(r[11]=t("h3",null,"Neural Network",-1)),t("div",Hr,b(c.neurons.length)+" neuron"+b(c.neurons.length!==1?"s":"")+" "+b(c.selectedNeuron?`• Editing N${c.selectedNeuron.id}`:""),1)])]),t("div",Br,[M(m(lt),{onClick:u,variant:"default",size:"xs",title:"Add Random Neuron"},{default:st(()=>r[12]||(r[12]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])),_:1,__:[12]}),c.neurons.length>0?(k(),pt(m(lt),{key:0,onClick:v,variant:"destructive",size:"xs",title:"Clear All Neurons"},{default:st(()=>[M(m(ae),{class:"w-4 h-4"})]),_:1})):Z("",!0)])]),t("div",Vr,[c.selectedNeuron?(k(),R("div",jr,[t("div",qr,[t("div",Gr,[t("div",{class:"neuron-icon-large",style:$t({backgroundColor:c.selectedNeuron.color})}," N"+b(c.selectedNeuron.id),5),t("div",Wr,[t("h4",null,"Neuron "+b(c.selectedNeuron.id),1),t("p",null,"Position: ("+b(c.selectedNeuron.x.toFixed(3))+", "+b(c.selectedNeuron.y.toFixed(3))+")",1)])]),M(m(lt),{onClick:r[0]||(r[0]=i=>c.$emit("close")),variant:"ghost",size:"xs",title:"Close Editor"},{default:st(()=>[M(m(hn),{class:"w-4 h-4"})]),_:1})]),t("div",Xr,[t("h5",Yr,[M(m(De),{class:"w-4 h-4"}),r[13]||(r[13]=tt(" Position "))]),t("div",Kr,[t("div",Qr,[r[14]||(r[14]=t("label",{class:"coordinate-label"},"X Coordinate",-1)),t("div",Zr,[ct(t("input",{"onUpdate:modelValue":r[1]||(r[1]=i=>c.selectedNeuron.x=i),type:"number",step:"0.01",min:c.coordinateRanges.xMin,max:c.coordinateRanges.xMax,class:"coordinate-input",onChange:r[2]||(r[2]=i=>c.$emit("update-position"))},null,40,Jr),[[gt,c.selectedNeuron.x,void 0,{number:!0}]]),t("div",tl,b(c.coordinateRanges.xMin)+" to "+b(c.coordinateRanges.xMax),1)])]),t("div",el,[r[15]||(r[15]=t("label",{class:"coordinate-label"},"Y Coordinate",-1)),t("div",sl,[ct(t("input",{"onUpdate:modelValue":r[3]||(r[3]=i=>c.selectedNeuron.y=i),type:"number",step:"0.01",min:c.coordinateRanges.yMin,max:c.coordinateRanges.yMax,class:"coordinate-input",onChange:r[4]||(r[4]=i=>c.$emit("update-position"))},null,40,nl),[[gt,c.selectedNeuron.y,void 0,{number:!0}]]),t("div",al,b(c.coordinateRanges.yMin)+" to "+b(c.coordinateRanges.yMax),1)])])]),t("div",il,[r[16]||(r[16]=t("span",{class:"presets-label"},"Quick positions:",-1)),t("div",ol,[(k(),R(_t,null,bt(x,i=>t("button",{key:i.name,onClick:g=>et(i),class:"preset-button",title:i.description},b(i.name),9,rl)),64))])])]),t("div",ll,[t("h5",cl,[M(m(Ut),{class:"w-4 h-4"}),r[17]||(r[17]=tt(" Appearance "))]),t("div",dl,[t("div",ul,[r[18]||(r[18]=t("label",{class:"color-label"},"Color",-1)),t("div",pl,[ct(t("input",{"onUpdate:modelValue":r[5]||(r[5]=i=>c.selectedNeuron.color=i),type:"color",class:"color-picker",onChange:r[6]||(r[6]=i=>c.$emit("update-color"))},null,544),[[gt,c.selectedNeuron.color]]),t("div",fl,[t("span",vl,b(c.selectedNeuron.color.toUpperCase()),1),t("div",{class:"color-preview",style:$t({backgroundColor:c.selectedNeuron.color})},null,4)])])]),t("div",hl,[r[19]||(r[19]=t("span",{class:"presets-label"},"Presets:",-1)),t("div",ml,[(k(),R(_t,null,bt(N,i=>t("button",{key:i,onClick:g=>K(i),class:"color-preset",style:$t({backgroundColor:i}),title:i},null,12,gl)),64))])])])]),t("div",_l,[t("h5",bl,[M(m(Pt),{class:"w-4 h-4"}),r[20]||(r[20]=tt(" Performance "))]),t("div",yl,[t("div",$l,[r[21]||(r[21]=t("div",{class:"metric-label"},"Controlled Area",-1)),t("div",wl,[t("div",xl,b(I.value.toFixed(1))+"%",1),t("div",kl,[t("div",{class:"metric-fill",style:$t({width:`${I.value}%`})},null,4)])])]),t("div",Cl,[r[22]||(r[22]=t("div",{class:"metric-label"},"Average Score",-1)),t("div",zl,[t("div",Sl,b(p.value.toFixed(3)),1),t("div",Ml,b(j(p.value)),1)])]),t("div",Nl,[r[23]||(r[23]=t("div",{class:"metric-label"},"Classification Impact",-1)),t("div",Rl,[t("div",El,b(l.value),1),t("div",Ll,b(W(l.value)),1)])])])]),t("div",Pl,[t("h5",Al,[M(m(Ut),{class:"w-4 h-4"}),r[24]||(r[24]=tt(" Actions "))]),t("div",Fl,[M(m(lt),{onClick:O,variant:"outline",size:"sm",class:"action-button"},{default:st(()=>[M(m($e),{class:"w-4 h-4"}),r[25]||(r[25]=tt(" Duplicate "))]),_:1,__:[25]}),M(m(lt),{onClick:Y,variant:"outline",size:"sm",class:"action-button"},{default:st(()=>[M(m(We),{class:"w-4 h-4"}),r[26]||(r[26]=tt(" Center "))]),_:1,__:[26]}),M(m(lt),{onClick:U,variant:"outline",size:"sm",class:"action-button"},{default:st(()=>[M(m(Gt),{class:"w-4 h-4"}),r[27]||(r[27]=tt(" Randomize "))]),_:1,__:[27]}),M(m(lt),{onClick:r[7]||(r[7]=i=>c.$emit("remove",c.selectedNeuron.id)),variant:"destructive",size:"sm",class:"action-button"},{default:st(()=>[M(m(ae),{class:"w-4 h-4"}),r[28]||(r[28]=tt(" Delete "))]),_:1,__:[28]})])])])):(k(),R("div",Dl,[t("div",Tl,[r[31]||(r[31]=t("h4",null,"Network Neurons",-1)),t("div",Il,[t("div",Ol,[r[30]||(r[30]=t("label",{class:"sort-label"},"Sort by:",-1)),ct(t("select",{"onUpdate:modelValue":r[8]||(r[8]=i=>d.value=i),class:"sort-select"},r[29]||(r[29]=[t("option",{value:"id"},"ID",-1),t("option",{value:"position"},"Position",-1),t("option",{value:"area"},"Area",-1),t("option",{value:"score"},"Score",-1)]),512),[[Qt,d.value]])]),t("div",Ul,[t("button",{onClick:r[9]||(r[9]=i=>C.value="grid"),class:vt(["view-button",{active:C.value==="grid"}]),title:"Grid View"},[M(m(ie),{class:"w-4 h-4"})],2),t("button",{onClick:r[10]||(r[10]=i=>C.value="list"),class:vt(["view-button",{active:C.value==="list"}]),title:"List View"},[M(m(Ds),{class:"w-4 h-4"})],2)])])]),c.neurons.length===0?(k(),R("div",Hl,[t("div",Bl,[M(m(Ot),{class:"w-12 h-12 opacity-40"})]),r[32]||(r[32]=t("h4",null,"No Neurons",-1)),r[33]||(r[33]=t("p",null,"Click on the canvas to add neurons or use the button above",-1))])):(k(),R("div",{key:1,class:vt(["neurons-list",C.value])},[(k(!0),R(_t,null,bt(f.value,i=>(k(),R("div",{key:i.id,onClick:g=>c.$emit("select",i),class:vt(["neuron-card",{selected:c.selectedNeuron?c.selectedNeuron?.id===i.id:!1}])},[t("div",jl,[t("div",{class:"neuron-icon",style:$t({backgroundColor:i.color})},b(i.id),5),t("div",ql,[t("div",Gl,"Neuron "+b(i.id),1),t("div",Wl," ("+b(i.x.toFixed(2))+", "+b(i.y.toFixed(2))+") ",1)])]),t("div",Xl,[t("div",Yl,[r[34]||(r[34]=t("span",{class:"mini-label"},"Area",-1)),t("span",Kl,b(A(i).toFixed(1))+"%",1)]),t("div",Ql,[r[35]||(r[35]=t("span",{class:"mini-label"},"Score",-1)),t("span",Zl,b(P(i).toFixed(2)),1)])]),t("div",Jl,[t("button",{onClick:be(g=>c.$emit("select",i),["stop"]),class:"quick-action",title:"Edit Neuron"},[M(m(We),{class:"w-3 h-3"})],8,tc),t("button",{onClick:be(g=>c.$emit("remove",i.id),["stop"]),class:"quick-action delete",title:"Delete Neuron"},[M(m(ae),{class:"w-3 h-3"})],8,ec)])],10,Vl))),128))],2)),c.neurons.length>0?(k(),R("div",sc,[t("div",nc,[r[36]||(r[36]=t("span",{class:"stat-label"},"Total Coverage",-1)),t("span",ac,b(h.value.toFixed(1))+"%",1)]),t("div",ic,[r[37]||(r[37]=t("span",{class:"stat-label"},"Avg Distance",-1)),t("span",oc,b(y.value.toFixed(2)),1)]),t("div",rc,[r[38]||(r[38]=t("span",{class:"stat-label"},"Network Density",-1)),t("span",lc,b($.value),1)])])):Z("",!0)]))])]))}});const dc=Rt(cc,[["__scopeId","data-v-30f9a16e"]]),uc={class:"network-config-panel"},pc={class:"panel-header"},fc={class:"header-left"},vc={class:"panel-icon"},hc={class:"panel-content"},mc={class:"config-section"},gc={class:"config-section-title"},_c={class:"config-group"},bc={class:"select-wrapper"},yc=["value"],$c={class:"config-description"},wc={class:"function-preview"},xc={class:"preview-graph"},kc={viewBox:"0 0 200 100",class:"preview-svg"},Cc=["d"],zc={class:"config-section"},Sc={class:"config-section-title"},Mc={class:"config-group"},Nc={class:"select-wrapper"},Rc=["value"],Ec={class:"config-description"},Lc={class:"metric-explanation"},Pc={class:"explanation-text"},Ac={class:"config-section"},Fc={class:"config-section-title"},Dc={class:"preset-buttons"},Tc=["onClick"],Ic={class:"preset-info"},Oc={class:"preset-name"},Uc={class:"preset-desc"},Hc=Mt({__name:"NetworkConfigPanel",props:{activationFunction:{},similarityMetric:{}},emits:["update-activation","update-similarity"],setup(n,{emit:e}){const o=n,s=e,d=[{name:"Classic",description:"Traditional neural network",activation:"sigmoid",similarity:"euclidean",icon:ye,type:"default"},{name:"Modern",description:"ReLU with dot product",activation:"relu",similarity:"dotProduct",icon:we,type:"success"},{name:"Experimental",description:"GELU with Yat product",activation:"gelu",similarity:"yatProduct",icon:mn,type:"warning"}];function C(l){switch(l){case"none":return"No activation function applied";case"sigmoid":return"Smooth S-curve, outputs between 0 and 1";case"relu":return"Rectified Linear Unit, outputs 0 or positive values";case"gelu":return"Gaussian Error Linear Unit, smooth alternative to ReLU";case"softmax":return"Probabilistic output, sums to 1";case"softermax":return"Softer version of softmax";case"softer_sigmoid":return"Gentler sigmoid-like function: x / (1 + |x|)";case"soft_tanh":return"Approximation of hyperbolic tangent: (x - 1) / (x + 1)";default:return"Unknown activation function"}}function x(l){switch(l){case"euclidean":return"Distance-based similarity measure";case"dotProduct":return"Dot product similarity (cosine-like)";case"yatProduct":return"Yet Another Transform product";default:return"Unknown similarity metric"}}function N(l){switch(l){case"euclidean":return"Measures straight-line distance between points. Closer points have higher similarity.";case"dotProduct":return"Calculates angle between vectors. Similar directions have higher scores.";case"yatProduct":return"Custom similarity metric with unique mathematical properties.";default:return"Unknown similarity metric"}}function I(){const l=[];for(let f=0;f<=200;f+=2){const h=(f-100)/50;let y=50;switch(o.activationFunction){case"sigmoid":y=50-40/(1+Math.exp(-h));break;case"relu":y=50-Math.max(0,h)*10;break;case"gelu":y=50-h*10*.5*(1+Math.tanh(Math.sqrt(2/Math.PI)*(h+.044715*h*h*h)));break;case"softmax":y=50-40/(1+Math.exp(-h*2));break;case"softermax":y=50-35/(1+Math.exp(-h*1.5));break;case"softer_sigmoid":y=50-h/(1+Math.abs(h))*20;break;case"soft_tanh":y=50-(h-1)/(h+1)*20;break;case"none":default:y=50-h*15;break}y=Math.max(5,Math.min(95,y)),l.push(f===0?`M ${f} ${y}`:`L ${f} ${y}`)}return l.join(" ")}function p(l){s("update-activation",l.activation),s("update-similarity",l.similarity)}return(l,f)=>(k(),R("div",uc,[t("div",pc,[t("div",fc,[t("div",vc,[M(m(Ut),{class:"w-5 h-5"})]),f[2]||(f[2]=t("div",{class:"panel-title"},[t("h3",null,"Network Configuration"),t("div",{class:"panel-subtitle"}," Global neural network settings ")],-1))])]),t("div",hc,[t("div",mc,[t("h4",gc,[M(m(qt),{class:"w-4 h-4"}),f[3]||(f[3]=tt(" Activation Function "))]),t("div",_c,[f[5]||(f[5]=t("label",{class:"config-label"},"Function Type",-1)),t("div",bc,[t("select",{value:l.activationFunction,class:"config-select",onChange:f[0]||(f[0]=h=>l.$emit("update-activation",h.target.value))},f[4]||(f[4]=[ne('<option value="none" data-v-5d451c39>None</option><option value="sigmoid" data-v-5d451c39>Sigmoid</option><option value="relu" data-v-5d451c39>ReLU</option><option value="gelu" data-v-5d451c39>GELU</option><option value="softmax" data-v-5d451c39>Softmax</option><option value="softermax" data-v-5d451c39>Softermax</option><option value="softer_sigmoid" data-v-5d451c39>Softer Sigmoid</option><option value="soft_tanh" data-v-5d451c39>Soft Tanh</option>',8)]),40,yc),t("div",$c,b(C(l.activationFunction)),1)])]),t("div",wc,[f[7]||(f[7]=t("div",{class:"preview-label"},"Function Shape:",-1)),t("div",xc,[(k(),R("svg",kc,[f[6]||(f[6]=ne('<defs data-v-5d451c39><pattern id="grid" width="20" height="10" patternUnits="userSpaceOnUse" data-v-5d451c39><path d="M 20 0 L 0 0 0 10" fill="none" stroke="#374151" stroke-width="0.5" opacity="0.3" data-v-5d451c39></path></pattern></defs><rect width="200" height="100" fill="url(#grid)" data-v-5d451c39></rect><line x1="0" y1="50" x2="200" y2="50" stroke="#6b7280" stroke-width="1" data-v-5d451c39></line><line x1="100" y1="0" x2="100" y2="100" stroke="#6b7280" stroke-width="1" data-v-5d451c39></line>',4)),t("path",{d:I(),fill:"none",stroke:"#3b82f6","stroke-width":"2"},null,8,Cc)]))])])]),t("div",zc,[t("h4",Sc,[M(m(Pt),{class:"w-4 h-4"}),f[8]||(f[8]=tt(" Similarity Metric "))]),t("div",Mc,[f[10]||(f[10]=t("label",{class:"config-label"},"Metric Type",-1)),t("div",Nc,[t("select",{value:l.similarityMetric,class:"config-select",onChange:f[1]||(f[1]=h=>l.$emit("update-similarity",h.target.value))},f[9]||(f[9]=[t("option",{value:"euclidean"},"Euclidean",-1),t("option",{value:"dotProduct"},"Dot Product",-1),t("option",{value:"yatProduct"},"Yat Product",-1)]),40,Rc),t("div",Ec,b(x(l.similarityMetric)),1)])]),t("div",Lc,[f[11]||(f[11]=t("div",{class:"explanation-label"},"How it works:",-1)),t("div",Pc,b(N(l.similarityMetric)),1)])]),t("div",Ac,[t("h4",Fc,[M(m($e),{class:"w-4 h-4"}),f[12]||(f[12]=tt(" Quick Presets "))]),t("div",Dc,[(k(),R(_t,null,bt(d,h=>t("button",{key:h.name,onClick:y=>p(h),class:vt(["preset-button",h.type])},[(k(),pt(Ct(h.icon),{class:"preset-icon"})),t("div",Ic,[t("span",Oc,b(h.name),1),t("span",Uc,b(h.description),1)])],10,Tc)),64))])])])]))}});const Bc=Rt(Hc,[["__scopeId","data-v-5d451c39"]]),Vc={class:"training-history-panel"},jc={class:"panel-header"},qc={class:"header-left"},Gc={class:"panel-icon"},Wc={class:"panel-title"},Xc={class:"panel-subtitle"},Yc={class:"header-right"},Kc={class:"header-actions"},Qc={class:"panel-content"},Zc={key:0,class:"empty-state"},Jc={class:"empty-icon"},td={key:1,class:"history-content"},ed={class:"metrics-summary"},sd={class:"metric-card best"},nd={class:"metric-value"},ad={class:"metric-step"},id={class:"metric-card current"},od={class:"metric-value"},rd={class:"metric-card progress"},ld={class:"metric-value"},cd={class:"metric-detail"},dd={class:"chart-controls"},ud={class:"view-options"},pd=["onClick"],fd={class:"chart-options"},vd={class:"option-toggle"},hd={class:"option-toggle"},md={class:"option-toggle"},gd={class:"chart-container"},_d=["width","height"],bd={class:"tooltip-header"},yd={class:"tooltip-time"},$d={class:"tooltip-metrics"},wd={class:"tooltip-metric loss"},xd={class:"tooltip-metric accuracy"},kd={class:"training-stats"},Cd={class:"stats-row"},zd={class:"stat-item"},Sd={class:"stat-value"},Md={class:"stat-item"},Nd={class:"stat-value"},Rd={class:"stat-item"},Ed=Mt({__name:"LossHistoryChart",emits:["start-training"],setup(n){const e=Vt(),o=ce(),s=dt(),d=dt("both"),C=dt(!0),x=dt(!1),N=dt(!1),I=[{id:"both",label:"Both",icon:se},{id:"loss",label:"Loss",icon:Pt},{id:"accuracy",label:"Accuracy",icon:ye},{id:"landscape",label:"Landscape",icon:De}],p=dt({visible:!1,x:0,y:0,data:null}),l={width:400,height:280,margin:{top:20,right:40,bottom:40,left:40}},f=l.width-l.margin.left-l.margin.right,h=l.height-l.margin.top-l.margin.bottom,y=D(()=>e.optimizationHistory.steps.slice()),$=D(()=>{const z=e.optimizationHistory.steps;return z.length>0?z[z.length-1].loss:0}),A=D(()=>{const z=e.optimizationHistory.steps;return z.length>0?Math.max(...z.map(S=>S.accuracy)):0}),P=D(()=>{const z=e.optimizationHistory.steps;if(z.length===0)return 0;const S=A.value;return z.find(_=>_.accuracy===S)?.step||0}),j=D(()=>{const z=e.optimizationHistory.steps;if(z.length<2)return"";const S=z[z.length-1].loss,w=z[z.length-2].loss;return S<w?"improving":S>w?"degrading":"stable"}),W=D(()=>{const z=e.optimizationHistory.steps;if(z.length<2)return"No change";const S=z[z.length-1].loss,w=z[z.length-2].loss,_=(S-w)/w*100;return Math.abs(_)<.01?"Stable":_<0?`↓ ${Math.abs(_).toFixed(1)}%`:`↑ ${_.toFixed(1)}%`}),et=D(()=>{const z=e.optimizationHistory.totalSteps,S=e.optimizationHistory.currentStep;return z>0?Math.round(S/z*100):0}),K=D(()=>{const z=e.optimizationHistory.steps;if(z.length<2)return"0s";const S=z[0].timestamp,_=(z[z.length-1].timestamp-S)/1e3;return _<60?`${_.toFixed(1)}s`:_<3600?`${Math.floor(_/60)}m ${(_%60).toFixed(0)}s`:`${Math.floor(_/3600)}h ${Math.floor(_%3600/60)}m`}),O=D(()=>{const z=e.optimizationHistory.steps;if(z.length<2)return 0;const S=(z[z.length-1].timestamp-z[0].timestamp)/1e3;return S>0?(z.length-1)/S:0}),Y=D(()=>{const z=e.optimizationHistory.steps;if(z.length<2)return"";const S=z[0].accuracy,_=z[z.length-1].accuracy-S;return _>5?"great":_>0?"good":_<-5?"poor":"neutral"}),U=D(()=>{const z=e.optimizationHistory.steps;if(z.length<2)return"N/A";const S=z[0].accuracy,_=z[z.length-1].accuracy-S;return _>=0?`+${_.toFixed(1)}%`:`${_.toFixed(1)}%`}),u=D(()=>y.value.length===0?Dt().domain([0,1]).range([0,f]):Dt().domain(fe(y.value,z=>z.step)).range([0,f])),v=D(()=>{if(y.value.length===0)return Dt().domain([0,1]).range([h,0]);const z=fe(y.value,S=>S.loss);return Dt().domain([0,Math.max(z[1]*1.1,.1)]).range([h,0]).nice()}),c=D(()=>{if(y.value.length===0)return Dt().domain([0,100]).range([h,0]);const z=fe(y.value,_=>_.accuracy),S=Math.max(0,z[0]-5),w=Math.min(100,z[1]+5);return Dt().domain([S,w]).range([h,0]).nice()}),r=D(()=>ze().x(z=>u.value(z.step)).y(z=>v.value(z.loss)).curve(x.value?ke:qe)),i=D(()=>ze().x(z=>u.value(z.step)).y(z=>c.value(z.accuracy)).curve(x.value?ke:qe));function g(){if(!s.value||y.value.length===0)return;const z=_n(s.value);z.selectAll("*").remove();const S=z.append("g").attr("transform",`translate(${l.margin.left},${l.margin.top})`);C.value&&(S.selectAll(".grid-line-horizontal").data(v.value.ticks(5)).enter().append("line").attr("class","grid-line-horizontal").attr("x1",0).attr("x2",f).attr("y1",w=>v.value(w)).attr("y2",w=>v.value(w)).attr("stroke","rgb(var(--border-secondary))").attr("stroke-opacity",.3).attr("stroke-dasharray","2,2"),S.selectAll(".grid-line-vertical").data(u.value.ticks(5)).enter().append("line").attr("class","grid-line-vertical").attr("x1",w=>u.value(w)).attr("x2",w=>u.value(w)).attr("y1",0).attr("y2",h).attr("stroke","rgb(var(--border-secondary))").attr("stroke-opacity",.3).attr("stroke-dasharray","2,2")),(d.value==="both"||d.value==="loss")&&F(S),(d.value==="both"||d.value==="accuracy")&&Q(S),d.value==="landscape"&&nt(S),G(S),at(S)}function F(z){if(N.value){const S=Na().x(w=>u.value(w.step)).y0(h).y1(w=>v.value(w.loss)).curve(ke);z.append("path").datum(y.value).attr("class","loss-area").attr("fill","url(#lossGradient)").attr("opacity",.2).attr("d",S)}z.append("path").datum(y.value).attr("class","loss-line").attr("fill","none").attr("stroke","#ef4444").attr("stroke-width",2).attr("d",r.value),z.selectAll(".loss-point").data(y.value).enter().append("circle").attr("class","loss-point").attr("cx",S=>u.value(S.step)).attr("cy",S=>v.value(S.loss)).attr("r",3).attr("fill","#ef4444").style("opacity",.7)}function Q(z){z.append("path").datum(y.value).attr("class","accuracy-line").attr("fill","none").attr("stroke","#22c55e").attr("stroke-width",2).attr("d",i.value),z.selectAll(".accuracy-point").data(y.value).enter().append("circle").attr("class","accuracy-point").attr("cx",S=>u.value(S.step)).attr("cy",S=>c.value(S.accuracy)).attr("r",3).attr("fill","#22c55e").style("opacity",.7)}function nt(z){const S=Xs().domain(fe(y.value,w=>w.loss)).interpolator(Ma);z.selectAll(".landscape-rect").data(y.value).enter().append("rect").attr("class","landscape-rect").attr("x",w=>u.value(w.step)-2).attr("y",0).attr("width",4).attr("height",h).attr("fill",w=>S(w.loss)).attr("opacity",.6)}function G(z){const S=Yn(u.value).ticks(6).tickFormat(w=>`${w}`);if(z.append("g").attr("class","x-axis").attr("transform",`translate(0,${h})`).call(S),d.value==="both"||d.value==="loss"){const w=Kn(v.value).ticks(5);z.append("g").attr("class","y-axis-loss").call(w),z.append("text").attr("class","axis-label").attr("transform","rotate(-90)").attr("y",0-l.margin.left).attr("x",0-h/2).attr("dy","1em").style("text-anchor","middle").style("font-size","11px").style("fill","#ef4444").text("Loss")}if(d.value==="both"||d.value==="accuracy"){const w=Xn(c.value).ticks(5).tickFormat(_=>`${_}%`);z.append("g").attr("class","y-axis-accuracy").attr("transform",`translate(${f},0)`).call(w),z.append("text").attr("class","axis-label").attr("transform","rotate(90)").attr("y",0-f-l.margin.right).attr("x",h/2).attr("dy","1em").style("text-anchor","middle").style("font-size","11px").style("fill","#22c55e").text("Accuracy (%)")}z.append("text").attr("class","axis-label").attr("x",f/2).attr("y",h+l.margin.bottom).attr("dy","-0.5em").style("text-anchor","middle").style("font-size","11px").style("fill","rgb(var(--text-secondary))").text("Training Step")}function at(z){z.append("rect").attr("class","mouse-overlay").attr("width",f).attr("height",h).attr("fill","none").attr("pointer-events","all")}function V(z){if(!s.value||y.value.length===0)return;const S=s.value.getBoundingClientRect(),w=z.clientX-S.left-l.margin.left,_=z.clientY-S.top-l.margin.top;if(w<0||w>f||_<0||_>h){rt();return}const T=u.value.invert(w),q=y.value.reduce((it,J)=>Math.abs(J.step-T)<Math.abs(it.step-T)?J:it);q&&(p.value={visible:!0,x:z.clientX-S.left,y:z.clientY-S.top,data:q})}function rt(){p.value.visible=!1}function X(){e.clearOptimizationHistory(),o.addNotification({message:"Training history cleared",type:"success"})}function H(){const S=["step,loss,accuracy,timestamp",...e.optimizationHistory.steps.map(q=>({step:q.step,loss:q.loss,accuracy:q.accuracy,timestamp:new Date(q.timestamp).toISOString()})).map(q=>`${q.step},${q.loss},${q.accuracy},${q.timestamp}`)].join(`
`),w=new Blob([S],{type:"text/csv"}),_=URL.createObjectURL(w),T=document.createElement("a");T.href=_,T.download=`training-history-${Date.now()}.csv`,T.click(),URL.revokeObjectURL(_),o.addNotification({message:"Training history exported",type:"success"})}function B(z){return z?new Date(z).toLocaleTimeString():""}return Jt([y,d,C,x,N],()=>{ps(()=>{g()})},{deep:!0}),gn(()=>{ps(()=>{g()})}),(z,S)=>(k(),R("div",Vc,[t("div",jc,[t("div",qc,[t("div",Gc,[M(m(Pt),{class:"w-5 h-5"})]),t("div",Wc,[S[4]||(S[4]=t("h3",null,"Training History",-1)),t("div",Xc,b(m(e).optimizationHistory.steps.length)+" steps recorded ",1)])]),t("div",Yc,[t("div",{class:vt(["status-indicator",{active:m(e).optimizationHistory.isRunning}])},[S[5]||(S[5]=t("div",{class:"status-dot"},null,-1)),t("span",null,b(m(e).optimizationHistory.isRunning?"Training":"Idle"),1)],2),t("div",Kc,[m(e).optimizationHistory.steps.length>0?(k(),pt(m(lt),{key:0,onClick:H,variant:"ghost",size:"xs",title:"Export History"},{default:st(()=>[M(m(Fe),{class:"w-4 h-4"})]),_:1})):Z("",!0),m(e).optimizationHistory.steps.length>0?(k(),pt(m(lt),{key:1,onClick:X,variant:"ghost",size:"xs",title:"Clear History"},{default:st(()=>[M(m(ae),{class:"w-4 h-4"})]),_:1})):Z("",!0)])])]),t("div",Qc,[m(e).optimizationHistory.steps.length===0?(k(),R("div",Zc,[t("div",Jc,[M(m(Pt),{class:"w-12 h-12 opacity-40"})]),S[7]||(S[7]=t("h4",null,"No Training History",-1)),S[8]||(S[8]=t("p",null,"Start optimization to see training progress and metrics",-1)),M(m(lt),{onClick:S[0]||(S[0]=w=>z.$emit("start-training")),variant:"default",size:"sm"},{default:st(()=>S[6]||(S[6]=[tt(" Start Training ")])),_:1,__:[6]})])):(k(),R("div",td,[t("div",ed,[t("div",sd,[S[9]||(S[9]=t("div",{class:"metric-label"},"Best Accuracy",-1)),t("div",nd,b(A.value.toFixed(1))+"%",1),t("div",ad,"Step "+b(P.value),1)]),t("div",id,[S[10]||(S[10]=t("div",{class:"metric-label"},"Current Loss",-1)),t("div",od,b($.value.toFixed(4)),1),t("div",{class:vt(["metric-change",j.value])},b(W.value),3)]),t("div",rd,[S[11]||(S[11]=t("div",{class:"metric-label"},"Progress",-1)),t("div",ld,b(et.value)+"%",1),t("div",cd,b(m(e).optimizationHistory.currentStep)+"/"+b(m(e).optimizationHistory.totalSteps),1)])]),t("div",dd,[t("div",ud,[(k(),R(_t,null,bt(I,w=>t("button",{key:w.id,onClick:_=>d.value=w.id,class:vt(["view-tab",{active:d.value===w.id}])},[(k(),pt(Ct(w.icon),{class:"w-4 h-4"})),t("span",null,b(w.label),1)],10,pd)),64))]),t("div",fd,[t("label",vd,[ct(t("input",{"onUpdate:modelValue":S[1]||(S[1]=w=>C.value=w),type:"checkbox"},null,512),[[oe,C.value]]),S[12]||(S[12]=t("span",null,"Grid",-1))]),t("label",hd,[ct(t("input",{"onUpdate:modelValue":S[2]||(S[2]=w=>x.value=w),type:"checkbox"},null,512),[[oe,x.value]]),S[13]||(S[13]=t("span",null,"Smooth",-1))]),t("label",md,[ct(t("input",{"onUpdate:modelValue":S[3]||(S[3]=w=>N.value=w),type:"checkbox"},null,512),[[oe,N.value]]),S[14]||(S[14]=t("span",null,"Avg",-1))])])]),t("div",gd,[(k(),R("svg",{ref_key:"chartRef",ref:s,class:"training-chart",width:l.width,height:l.height,onMousemove:V,onMouseleave:rt},null,40,_d)),p.value.visible?(k(),R("div",{key:0,class:"chart-tooltip",style:$t({left:p.value.x+"px",top:p.value.y+"px",transform:`translate(${p.value.x>l.width/2?"-100%":"0"}, -100%)`})},[t("div",bd,[t("strong",null,"Step "+b(p.value.data?.step),1),t("span",yd,b(B(p.value.data?.timestamp)),1)]),t("div",$d,[t("div",wd,[S[15]||(S[15]=t("span",{class:"metric-dot"},null,-1)),t("span",null,"Loss: "+b(p.value.data?.loss?.toFixed(4)),1)]),t("div",xd,[S[16]||(S[16]=t("span",{class:"metric-dot"},null,-1)),t("span",null,"Accuracy: "+b(p.value.data?.accuracy?.toFixed(1))+"%",1)])])],4)):Z("",!0)]),t("div",kd,[t("div",Cd,[t("div",zd,[S[17]||(S[17]=t("span",{class:"stat-label"},"Training Time",-1)),t("span",Sd,b(K.value),1)]),t("div",Md,[S[18]||(S[18]=t("span",{class:"stat-label"},"Avg Steps/sec",-1)),t("span",Nd,b(O.value.toFixed(1)),1)]),t("div",Rd,[S[19]||(S[19]=t("span",{class:"stat-label"},"Improvement",-1)),t("span",{class:vt(["stat-value",Y.value])},b(U.value),3)])])])]))])]))}});const Ld=Rt(Ed,[["__scopeId","data-v-98fb034e"]]),Pd={key:0,class:"class-toolbar mb-4 momentum-scroll scrollbar-thin"},Ad={class:"class-buttons"},Fd={class:"class-label"},Dd={class:"class-count"},Td=Mt({__name:"ClassToggles",setup(n){const e=Vt(),o=D(()=>[...e.allClasses].sort((d,C)=>d-C));function s(d){return e.dataPoints.filter(C=>C.label===d).length}return(d,C)=>m(e).allClasses.length>0?(k(),R("div",Pd,[C[1]||(C[1]=t("div",{class:"section-label"},[t("span",null,"Classes")],-1)),t("div",Ad,[(k(!0),R(_t,null,bt(o.value,x=>(k(),pt(m(lt),{key:x,onClick:N=>m(e).toggleClass(x),variant:m(e).activeClasses.includes(x)?"default":"outline",size:"xs",class:vt(`class-btn ${m(e).activeClasses.includes(x)?"active":"inactive"}`),style:$t({"--class-color":m(bn)(x)}),title:`Class ${x} (${s(x)} points)`},{default:st(()=>[C[0]||(C[0]=t("div",{class:"class-indicator"},null,-1)),t("span",Fd,b(x),1),t("span",Dd,b(s(x)),1)]),_:2,__:[0]},1032,["onClick","variant","class","style","title"]))),128))])])):Z("",!0)}});const Id=Rt(Td,[["__scopeId","data-v-9f5c7f7d"]]);var Zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Od(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ys={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(n,e){((o,s)=>{n.exports=s()})(Zt,function o(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},d,C=!s.document&&!!s.postMessage,x=s.IS_PAPA_WORKER||!1,N={},I=0,p={};function l(u){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(v){var c=O(v);c.chunkSize=parseInt(c.chunkSize),v.step||v.chunk||(c.chunkSize=null),this._handle=new A(c),(this._handle.streamer=this)._config=c}.call(this,u),this.parseChunk=function(v,c){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let g=this._config.newline;g||(i=this._config.quoteChar||'"',g=this._handle.guessLineEndings(v,i)),v=[...v.split(g).slice(r)].join(g)}this.isFirstChunk&&U(this._config.beforeFirstChunk)&&(i=this._config.beforeFirstChunk(v))!==void 0&&(v=i),this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+v,i=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(v=i.meta.cursor,r=(this._finished||(this._partialLine=r.substring(v-this._baseIndex),this._baseIndex=v),i&&i.data&&(this._rowCount+=i.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),x)s.postMessage({results:i,workerId:p.WORKER_ID,finished:r});else if(U(this._config.chunk)&&!c){if(this._config.chunk(i,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=i=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),this._completed||!r||!U(this._config.complete)||i&&i.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||i&&i.meta.paused||this._nextChunk(),i}this._halted=!0},this._sendError=function(v){U(this._config.error)?this._config.error(v):x&&this._config.error&&s.postMessage({workerId:p.WORKER_ID,error:v,finished:!1})}}function f(u){var v;(u=u||{}).chunkSize||(u.chunkSize=p.RemoteChunkSize),l.call(this,u),this._nextChunk=C?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(c){this._input=c,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(v=new XMLHttpRequest,this._config.withCredentials&&(v.withCredentials=this._config.withCredentials),C||(v.onload=Y(this._chunkLoaded,this),v.onerror=Y(this._chunkError,this)),v.open(this._config.downloadRequestBody?"POST":"GET",this._input,!C),this._config.downloadRequestHeaders){var c,r=this._config.downloadRequestHeaders;for(c in r)v.setRequestHeader(c,r[c])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,v.setRequestHeader("Range","bytes="+this._start+"-"+i));try{v.send(this._config.downloadRequestBody)}catch(g){this._chunkError(g.message)}C&&v.status===0&&this._chunkError()}},this._chunkLoaded=function(){v.readyState===4&&(v.status<200||400<=v.status?this._chunkError():(this._start+=this._config.chunkSize||v.responseText.length,this._finished=!this._config.chunkSize||this._start>=(c=>(c=c.getResponseHeader("Content-Range"))!==null?parseInt(c.substring(c.lastIndexOf("/")+1)):-1)(v),this.parseChunk(v.responseText)))},this._chunkError=function(c){c=v.statusText||c,this._sendError(new Error(c))}}function h(u){(u=u||{}).chunkSize||(u.chunkSize=p.LocalChunkSize),l.call(this,u);var v,c,r=typeof FileReader<"u";this.stream=function(i){this._input=i,c=i.slice||i.webkitSlice||i.mozSlice,r?((v=new FileReader).onload=Y(this._chunkLoaded,this),v.onerror=Y(this._chunkError,this)):v=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var i=this._input,g=(this._config.chunkSize&&(g=Math.min(this._start+this._config.chunkSize,this._input.size),i=c.call(i,this._start,g)),v.readAsText(i,this._config.encoding));r||this._chunkLoaded({target:{result:g}})},this._chunkLoaded=function(i){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(i.target.result)},this._chunkError=function(){this._sendError(v.error)}}function y(u){var v;l.call(this,u=u||{}),this.stream=function(c){return v=c,this._nextChunk()},this._nextChunk=function(){var c,r;if(!this._finished)return c=this._config.chunkSize,v=c?(r=v.substring(0,c),v.substring(c)):(r=v,""),this._finished=!v,this.parseChunk(r)}}function $(u){l.call(this,u=u||{});var v=[],c=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(i){this._input=i,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&v.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),v.length?this.parseChunk(v.shift()):c=!0},this._streamData=Y(function(i){try{v.push(typeof i=="string"?i:i.toString(this._config.encoding)),c&&(c=!1,this._checkIsFinished(),this.parseChunk(v.shift()))}catch(g){this._streamError(g)}},this),this._streamError=Y(function(i){this._streamCleanUp(),this._sendError(i)},this),this._streamEnd=Y(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=Y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function A(u){var v,c,r,i,g=Math.pow(2,53),F=-g,Q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,nt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,G=this,at=0,V=0,rt=!1,X=!1,H=[],B={data:[],errors:[],meta:{}};function z(T){return u.skipEmptyLines==="greedy"?T.join("").trim()==="":T.length===1&&T[0].length===0}function S(){if(B&&r&&(_("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),r=!1),u.skipEmptyLines&&(B.data=B.data.filter(function(J){return!z(J)})),w()){let J=function(ht,mt){U(u.transformHeader)&&(ht=u.transformHeader(ht,mt)),H.push(ht)};if(B)if(Array.isArray(B.data[0])){for(var T=0;w()&&T<B.data.length;T++)B.data[T].forEach(J);B.data.splice(0,1)}else B.data.forEach(J)}function q(J,ht){for(var mt=u.header?{}:[],ut=0;ut<J.length;ut++){var ft=ut,ot=J[ut],ot=((xt,E)=>(a=>(u.dynamicTypingFunction&&u.dynamicTyping[a]===void 0&&(u.dynamicTyping[a]=u.dynamicTypingFunction(a)),(u.dynamicTyping[a]||u.dynamicTyping)===!0))(xt)?E==="true"||E==="TRUE"||E!=="false"&&E!=="FALSE"&&((a=>{if(Q.test(a)&&(a=parseFloat(a),F<a&&a<g))return 1})(E)?parseFloat(E):nt.test(E)?new Date(E):E===""?null:E):E)(ft=u.header?ut>=H.length?"__parsed_extra":H[ut]:ft,ot=u.transform?u.transform(ot,ft):ot);ft==="__parsed_extra"?(mt[ft]=mt[ft]||[],mt[ft].push(ot)):mt[ft]=ot}return u.header&&(ut>H.length?_("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+ut,V+ht):ut<H.length&&_("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+ut,V+ht)),mt}var it;B&&(u.header||u.dynamicTyping||u.transform)&&(it=1,!B.data.length||Array.isArray(B.data[0])?(B.data=B.data.map(q),it=B.data.length):B.data=q(B.data,0),u.header&&B.meta&&(B.meta.fields=H),V+=it)}function w(){return u.header&&H.length===0}function _(T,q,it,J){T={type:T,code:q,message:it},J!==void 0&&(T.row=J),B.errors.push(T)}U(u.step)&&(i=u.step,u.step=function(T){B=T,w()?S():(S(),B.data.length!==0&&(at+=T.data.length,u.preview&&at>u.preview?c.abort():(B.data=B.data[0],i(B,G))))}),this.parse=function(T,q,it){var J=u.quoteChar||'"',J=(u.newline||(u.newline=this.guessLineEndings(T,J)),r=!1,u.delimiter?U(u.delimiter)&&(u.delimiter=u.delimiter(T),B.meta.delimiter=u.delimiter):((J=((ht,mt,ut,ft,ot)=>{var xt,E,a,L;ot=ot||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var yt=0;yt<ot.length;yt++){for(var zt,de=ot[yt],kt=0,At=0,wt=0,St=(a=void 0,new j({comments:ft,delimiter:de,newline:mt,preview:10}).parse(ht)),Ht=0;Ht<St.data.length;Ht++)ut&&z(St.data[Ht])?wt++:(zt=St.data[Ht].length,At+=zt,a===void 0?a=zt:0<zt&&(kt+=Math.abs(zt-a),a=zt));0<St.data.length&&(At/=St.data.length-wt),(E===void 0||kt<=E)&&(L===void 0||L<At)&&1.99<At&&(E=kt,xt=de,L=At)}return{successful:!!(u.delimiter=xt),bestDelimiter:xt}})(T,u.newline,u.skipEmptyLines,u.comments,u.delimitersToGuess)).successful?u.delimiter=J.bestDelimiter:(r=!0,u.delimiter=p.DefaultDelimiter),B.meta.delimiter=u.delimiter),O(u));return u.preview&&u.header&&J.preview++,v=T,c=new j(J),B=c.parse(v,q,it),S(),rt?{meta:{paused:!0}}:B||{meta:{paused:!1}}},this.paused=function(){return rt},this.pause=function(){rt=!0,c.abort(),v=U(u.chunk)?"":v.substring(c.getCharIndex())},this.resume=function(){G.streamer._halted?(rt=!1,G.streamer.parseChunk(v,!0)):setTimeout(G.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,c.abort(),B.meta.aborted=!0,U(u.complete)&&u.complete(B),v=""},this.guessLineEndings=function(ht,J){ht=ht.substring(0,1048576);var J=new RegExp(P(J)+"([^]*?)"+P(J),"gm"),it=(ht=ht.replace(J,"")).split("\r"),J=ht.split(`
`),ht=1<J.length&&J[0].length<it[0].length;if(it.length===1||ht)return`
`;for(var mt=0,ut=0;ut<it.length;ut++)it[ut][0]===`
`&&mt++;return mt>=it.length/2?`\r
`:"\r"}}function P(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(u){var v=(u=u||{}).delimiter,c=u.newline,r=u.comments,i=u.step,g=u.preview,F=u.fastMode,Q=null,nt=!1,G=u.quoteChar==null?'"':u.quoteChar,at=G;if(u.escapeChar!==void 0&&(at=u.escapeChar),(typeof v!="string"||-1<p.BAD_DELIMITERS.indexOf(v))&&(v=","),r===v)throw new Error("Comment character same as delimiter");r===!0?r="#":(typeof r!="string"||-1<p.BAD_DELIMITERS.indexOf(r))&&(r=!1),c!==`
`&&c!=="\r"&&c!==`\r
`&&(c=`
`);var V=0,rt=!1;this.parse=function(X,H,B){if(typeof X!="string")throw new Error("Input must be a string");var z=X.length,S=v.length,w=c.length,_=r.length,T=U(i),q=[],it=[],J=[],ht=V=0;if(!X)return kt();if(F||F!==!1&&X.indexOf(G)===-1){for(var mt=X.split(c),ut=0;ut<mt.length;ut++){if(J=mt[ut],V+=J.length,ut!==mt.length-1)V+=c.length;else if(B)return kt();if(!r||J.substring(0,_)!==r){if(T){if(q=[],L(J.split(v)),At(),rt)return kt()}else L(J.split(v));if(g&&g<=ut)return q=q.slice(0,g),kt(!0)}}return kt()}for(var ft=X.indexOf(v,V),ot=X.indexOf(c,V),xt=new RegExp(P(at)+P(G),"g"),E=X.indexOf(G,V);;)if(X[V]===G)for(E=V,V++;;){if((E=X.indexOf(G,E+1))===-1)return B||it.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:q.length,index:V}),zt();if(E===z-1)return zt(X.substring(V,E).replace(xt,G));if(G===at&&X[E+1]===at)E++;else if(G===at||E===0||X[E-1]!==at){ft!==-1&&ft<E+1&&(ft=X.indexOf(v,E+1));var a=yt((ot=ot!==-1&&ot<E+1?X.indexOf(c,E+1):ot)===-1?ft:Math.min(ft,ot));if(X.substr(E+1+a,S)===v){J.push(X.substring(V,E).replace(xt,G)),X[V=E+1+a+S]!==G&&(E=X.indexOf(G,V)),ft=X.indexOf(v,V),ot=X.indexOf(c,V);break}if(a=yt(ot),X.substring(E+1+a,E+1+a+w)===c){if(J.push(X.substring(V,E).replace(xt,G)),de(E+1+a+w),ft=X.indexOf(v,V),E=X.indexOf(G,V),T&&(At(),rt))return kt();if(g&&q.length>=g)return kt(!0);break}it.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:q.length,index:V}),E++}}else if(r&&J.length===0&&X.substring(V,V+_)===r){if(ot===-1)return kt();V=ot+w,ot=X.indexOf(c,V),ft=X.indexOf(v,V)}else if(ft!==-1&&(ft<ot||ot===-1))J.push(X.substring(V,ft)),V=ft+S,ft=X.indexOf(v,V);else{if(ot===-1)break;if(J.push(X.substring(V,ot)),de(ot+w),T&&(At(),rt))return kt();if(g&&q.length>=g)return kt(!0)}return zt();function L(wt){q.push(wt),ht=V}function yt(wt){var St=0;return St=wt!==-1&&(wt=X.substring(E+1,wt))&&wt.trim()===""?wt.length:St}function zt(wt){return B||(wt===void 0&&(wt=X.substring(V)),J.push(wt),V=z,L(J),T&&At()),kt()}function de(wt){V=wt,L(J),J=[],ot=X.indexOf(c,V)}function kt(wt){if(u.header&&!H&&q.length&&!nt){var St=q[0],Ht=Object.create(null),Ie=new Set(St);let ls=!1;for(let Kt=0;Kt<St.length;Kt++){let Ft=St[Kt];if(Ht[Ft=U(u.transformHeader)?u.transformHeader(Ft,Kt):Ft]){let ue,cs=Ht[Ft];for(;ue=Ft+"_"+cs,cs++,Ie.has(ue););Ie.add(ue),St[Kt]=ue,Ht[Ft]++,ls=!0,(Q=Q===null?{}:Q)[ue]=Ft}else Ht[Ft]=1,St[Kt]=Ft;Ie.add(Ft)}ls&&console.warn("Duplicate headers found and renamed."),nt=!0}return{data:q,errors:it,meta:{delimiter:v,linebreak:c,aborted:rt,truncated:!!wt,cursor:ht+(H||0),renamedHeaders:Q}}}function At(){i(kt()),q=[],it=[]}},this.abort=function(){rt=!0},this.getCharIndex=function(){return V}}function W(u){var v=u.data,c=N[v.workerId],r=!1;if(v.error)c.userError(v.error,v.file);else if(v.results&&v.results.data){var i={abort:function(){r=!0,et(v.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:K,resume:K};if(U(c.userStep)){for(var g=0;g<v.results.data.length&&(c.userStep({data:v.results.data[g],errors:v.results.errors,meta:v.results.meta},i),!r);g++);delete v.results}else U(c.userChunk)&&(c.userChunk(v.results,i,v.file),delete v.results)}v.finished&&!r&&et(v.workerId,v.results)}function et(u,v){var c=N[u];U(c.userComplete)&&c.userComplete(v),c.terminate(),delete N[u]}function K(){throw new Error("Not implemented.")}function O(u){if(typeof u!="object"||u===null)return u;var v,c=Array.isArray(u)?[]:{};for(v in u)c[v]=O(u[v]);return c}function Y(u,v){return function(){u.apply(v,arguments)}}function U(u){return typeof u=="function"}return p.parse=function(u,v){var c=(v=v||{}).dynamicTyping||!1;if(U(c)&&(v.dynamicTypingFunction=c,c={}),v.dynamicTyping=c,v.transform=!!U(v.transform)&&v.transform,!v.worker||!p.WORKERS_SUPPORTED)return c=null,p.NODE_STREAM_INPUT,typeof u=="string"?(u=(r=>r.charCodeAt(0)!==65279?r:r.slice(1))(u),c=new(v.download?f:y)(v)):u.readable===!0&&U(u.read)&&U(u.on)?c=new $(v):(s.File&&u instanceof File||u instanceof Object)&&(c=new h(v)),c.stream(u);(c=(()=>{var r;return!!p.WORKERS_SUPPORTED&&(r=(()=>{var i=s.URL||s.webkitURL||null,g=o.toString();return p.BLOB_URL||(p.BLOB_URL=i.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",g,")();"],{type:"text/javascript"})))})(),(r=new s.Worker(r)).onmessage=W,r.id=I++,N[r.id]=r)})()).userStep=v.step,c.userChunk=v.chunk,c.userComplete=v.complete,c.userError=v.error,v.step=U(v.step),v.chunk=U(v.chunk),v.complete=U(v.complete),v.error=U(v.error),delete v.worker,c.postMessage({input:u,config:v,workerId:c.id})},p.unparse=function(u,v){var c=!1,r=!0,i=",",g=`\r
`,F='"',Q=F+F,nt=!1,G=null,at=!1,V=((()=>{if(typeof v=="object"){if(typeof v.delimiter!="string"||p.BAD_DELIMITERS.filter(function(H){return v.delimiter.indexOf(H)!==-1}).length||(i=v.delimiter),typeof v.quotes!="boolean"&&typeof v.quotes!="function"&&!Array.isArray(v.quotes)||(c=v.quotes),typeof v.skipEmptyLines!="boolean"&&typeof v.skipEmptyLines!="string"||(nt=v.skipEmptyLines),typeof v.newline=="string"&&(g=v.newline),typeof v.quoteChar=="string"&&(F=v.quoteChar),typeof v.header=="boolean"&&(r=v.header),Array.isArray(v.columns)){if(v.columns.length===0)throw new Error("Option columns is empty");G=v.columns}v.escapeChar!==void 0&&(Q=v.escapeChar+F),v.escapeFormulae instanceof RegExp?at=v.escapeFormulae:typeof v.escapeFormulae=="boolean"&&v.escapeFormulae&&(at=/^[=+\-@\t\r].*$/)}})(),new RegExp(P(F),"g"));if(typeof u=="string"&&(u=JSON.parse(u)),Array.isArray(u)){if(!u.length||Array.isArray(u[0]))return rt(null,u,nt);if(typeof u[0]=="object")return rt(G||Object.keys(u[0]),u,nt)}else if(typeof u=="object")return typeof u.data=="string"&&(u.data=JSON.parse(u.data)),Array.isArray(u.data)&&(u.fields||(u.fields=u.meta&&u.meta.fields||G),u.fields||(u.fields=Array.isArray(u.data[0])?u.fields:typeof u.data[0]=="object"?Object.keys(u.data[0]):[]),Array.isArray(u.data[0])||typeof u.data[0]=="object"||(u.data=[u.data])),rt(u.fields||[],u.data||[],nt);throw new Error("Unable to serialize unrecognized input");function rt(H,B,z){var S="",w=(typeof H=="string"&&(H=JSON.parse(H)),typeof B=="string"&&(B=JSON.parse(B)),Array.isArray(H)&&0<H.length),_=!Array.isArray(B[0]);if(w&&r){for(var T=0;T<H.length;T++)0<T&&(S+=i),S+=X(H[T],T);0<B.length&&(S+=g)}for(var q=0;q<B.length;q++){var it=(w?H:B[q]).length,J=!1,ht=w?Object.keys(B[q]).length===0:B[q].length===0;if(z&&!w&&(J=z==="greedy"?B[q].join("").trim()==="":B[q].length===1&&B[q][0].length===0),z==="greedy"&&w){for(var mt=[],ut=0;ut<it;ut++){var ft=_?H[ut]:ut;mt.push(B[q][ft])}J=mt.join("").trim()===""}if(!J){for(var ot=0;ot<it;ot++){0<ot&&!ht&&(S+=i);var xt=w&&_?H[ot]:ot;S+=X(B[q][xt],ot)}q<B.length-1&&(!z||0<it&&!ht)&&(S+=g)}}return S}function X(H,B){var z,S;return H==null?"":H.constructor===Date?JSON.stringify(H).slice(1,25):(S=!1,at&&typeof H=="string"&&at.test(H)&&(H="'"+H,S=!0),z=H.toString().replace(V,Q),(S=S||c===!0||typeof c=="function"&&c(H,B)||Array.isArray(c)&&c[B]||((w,_)=>{for(var T=0;T<_.length;T++)if(-1<w.indexOf(_[T]))return!0;return!1})(z,p.BAD_DELIMITERS)||-1<z.indexOf(i)||z.charAt(0)===" "||z.charAt(z.length-1)===" ")?F+z+F:z)}},p.RECORD_SEP=String.fromCharCode(30),p.UNIT_SEP=String.fromCharCode(31),p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!C&&!!s.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=j,p.ParserHandle=A,p.NetworkStreamer=f,p.FileStreamer=h,p.StringStreamer=y,p.ReadableStreamStreamer=$,s.jQuery&&((d=s.jQuery).fn.parse=function(u){var v=u.config||{},c=[];return this.each(function(g){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var F=0;F<this.files.length;F++)c.push({file:this.files[F],inputElem:this,instanceConfig:d.extend({},v)})}),r(),this;function r(){if(c.length===0)U(u.complete)&&u.complete();else{var g,F,Q,nt,G=c[0];if(U(u.before)){var at=u.before(G.file,G.inputElem);if(typeof at=="object"){if(at.action==="abort")return g="AbortError",F=G.file,Q=G.inputElem,nt=at.reason,void(U(u.error)&&u.error({name:g},F,Q,nt));if(at.action==="skip")return void i();typeof at.config=="object"&&(G.instanceConfig=d.extend(G.instanceConfig,at.config))}else if(at==="skip")return void i()}var V=G.instanceConfig.complete;G.instanceConfig.complete=function(rt){U(V)&&V(rt,G.file,G.inputElem),i()},p.parse(G.file,G.instanceConfig)}}function i(){c.splice(0,1),r()}}),x&&(s.onmessage=function(u){u=u.data,p.WORKER_ID===void 0&&u&&(p.WORKER_ID=u.workerId),typeof u.input=="string"?s.postMessage({workerId:p.WORKER_ID,results:p.parse(u.input,u.config),finished:!0}):(s.File&&u.input instanceof File||u.input instanceof Object)&&(u=p.parse(u.input,u.config))&&s.postMessage({workerId:p.WORKER_ID,results:u,finished:!0})}),(f.prototype=Object.create(l.prototype)).constructor=f,(h.prototype=Object.create(l.prototype)).constructor=h,(y.prototype=Object.create(y.prototype)).constructor=y,($.prototype=Object.create(l.prototype)).constructor=$,p})})(Ys);var Ud=Ys.exports;const Ks=Od(Ud);var Qs={exports:{}};(function(n,e){(function(o,s){s()})(Zt,function(){function o(p,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p}function s(p,l,f){var h=new XMLHttpRequest;h.open("GET",p),h.responseType="blob",h.onload=function(){I(h.response,l,f)},h.onerror=function(){console.error("could not download file")},h.send()}function d(p){var l=new XMLHttpRequest;l.open("HEAD",p,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function C(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(l)}}var x=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Zt=="object"&&Zt.global===Zt?Zt:void 0,N=x.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),I=x.saveAs||(typeof window!="object"||window!==x?function(){}:"download"in HTMLAnchorElement.prototype&&!N?function(p,l,f){var h=x.URL||x.webkitURL,y=document.createElement("a");l=l||p.name||"download",y.download=l,y.rel="noopener",typeof p=="string"?(y.href=p,y.origin===location.origin?C(y):d(y.href)?s(p,l,f):C(y,y.target="_blank")):(y.href=h.createObjectURL(p),setTimeout(function(){h.revokeObjectURL(y.href)},4e4),setTimeout(function(){C(y)},0))}:"msSaveOrOpenBlob"in navigator?function(p,l,f){if(l=l||p.name||"download",typeof p!="string")navigator.msSaveOrOpenBlob(o(p,f),l);else if(d(p))s(p,l,f);else{var h=document.createElement("a");h.href=p,h.target="_blank",setTimeout(function(){C(h)})}}:function(p,l,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof p=="string")return s(p,l,f);var y=p.type==="application/octet-stream",$=/constructor/i.test(x.HTMLElement)||x.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||y&&$||N)&&typeof FileReader<"u"){var P=new FileReader;P.onloadend=function(){var et=P.result;et=A?et:et.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=et:location=et,h=null},P.readAsDataURL(p)}else{var j=x.URL||x.webkitURL,W=j.createObjectURL(p);h?h.location=W:location.href=W,h=null,setTimeout(function(){j.revokeObjectURL(W)},4e4)}});x.saveAs=I.saveAs=I,n.exports=I})})(Qs);var Hd=Qs.exports;function Ls(n){return new Promise((e,o)=>{Ks.parse(n,{header:!0,skipEmptyLines:!0,complete:s=>{s.errors.length>0?o(new Error(`CSV parsing error: ${s.errors[0].message}`)):e(s.data)},error:s=>{o(new Error(`Failed to parse CSV: ${s.message}`))}})})}function Ps(n,e){const o=Ks.unparse(n),s=new Blob([o],{type:"text/csv;charset=utf-8"});Hd.saveAs(s,e)}const Bd={class:"panel-section"},Vd={class:"section-header"},jd={class:"data-controls"},qd={class:"upload-text"},Gd={class:"upload-title"},Wd={class:"action-row"},Xd={key:1,class:"loading-spinner"},Yd={key:0,class:"data-info"},Kd={class:"info-item"},Qd={class:"info-value"},Zd={class:"info-item"},Jd={class:"info-value"},tu={class:"panel-section"},eu={class:"section-header"},su={class:"neuron-count"},nu={class:"neuron-controls"},au={class:"action-row"},iu={class:"file-actions"},ou={class:"quick-actions"},ru=Mt({__name:"DataPanel",props:{initialPosition:{default:()=>({x:20,y:80})},zIndex:{default:1e3}},emits:["close"],setup(n){const e={render(){return te("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[te("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])}},o=Vt(),s=ce(),d=dt(null),C=dt(""),x=dt(!1);function N(A){d.value=A,C.value=A.name.length>25?A.name.substring(0,25)+"...":A.name}function I(A){Ls(A).then(P=>{s.addNotification({message:"Neurons loaded successfully!",type:"success"})}).catch(P=>{s.addNotification({message:`Error loading neurons: ${P.message}`,type:"error"})})}async function p(){if(d.value){x.value=!0;try{const A=await Ls(d.value);if(A.length===0)throw new Error("CSV file appears to be empty");const P=A.map((j,W)=>{const et=parseFloat(j.x),K=parseFloat(j.y),O=parseFloat(j.label);if(isNaN(et)||isNaN(K)||isNaN(O))throw new Error(`Invalid data format at row ${W+1}. Expected format: x,y,label`);return{x:et,y:K,label:O}});o.setDataPoints(P),s.addNotification({message:`Successfully loaded ${P.length} data points with ${o.allClasses.length} classes!`,type:"success"})}catch(A){s.addNotification({message:`Error loading CSV: ${A.message}`,type:"error"})}finally{x.value=!1}}}function l(){if(o.dataPoints.length===0){s.addNotification({message:"No data to export!",type:"warning"});return}Ps(o.dataPoints,"neural_network_data.csv"),s.addNotification({message:"Data exported successfully!",type:"success"})}function f(){if(o.neurons.length===0){s.addNotification({message:"No neurons to save!",type:"warning"});return}const A=o.neurons.map(P=>({x:P.x,y:P.y,id:P.id}));Ps(A,"neurons.csv"),s.addNotification({message:"Neurons saved successfully!",type:"success"})}function h(){const A=(Math.random()-.5)*2,P=(Math.random()-.5)*2;o.addNeuron(A,P),s.addNotification({message:"Random neuron added!",type:"success",duration:2e3})}function y(){o.neurons.splice(0),s.addNotification({message:"All neurons cleared!",type:"info"})}function $(){o.neurons.forEach(A=>{A.x=(Math.random()-.5)*2,A.y=(Math.random()-.5)*2}),s.addNotification({message:"Neuron positions randomized!",type:"info"})}return(A,P)=>(k(),pt(Xt,{title:"Data & Neurons",icon:m(Xe),width:280,"initial-position":A.initialPosition,"z-index":A.zIndex,closable:!0,onClose:P[1]||(P[1]=j=>A.$emit("close"))},{default:st(()=>[t("div",Bd,[t("div",Vd,[M(m(Xe),{class:"section-icon"}),P[2]||(P[2]=t("span",{class:"section-title"},"Dataset",-1))]),t("div",jd,[M(hs,{accept:".csv",onFileSelected:N,class:"file-upload-area"},{default:st(({isDragging:j})=>[t("div",{class:vt(["upload-zone",{"is-dragging":j,"has-file":d.value}])},[M(m(yn),{class:"upload-icon"}),t("div",qd,[t("span",Gd,b(d.value?C.value:"Drop CSV file here"),1),P[3]||(P[3]=t("span",{class:"upload-subtitle"},"or click to browse",-1))])],2)]),_:1}),t("div",Wd,[M(m(lt),{onClick:p,disabled:!d.value||x.value,variant:"default",size:"sm",class:"action-btn primary"},{default:st(()=>[x.value?(k(),R("div",Xd)):(k(),pt(m(Ye),{key:0,class:"btn-icon"})),P[4]||(P[4]=tt(" Load Data "))]),_:1,__:[4]},8,["disabled"]),M(m(lt),{onClick:l,disabled:m(o).dataPoints.length===0,variant:"outline",size:"sm",class:"action-btn"},{default:st(()=>[M(m(Fe),{class:"btn-icon"}),P[5]||(P[5]=tt(" Export "))]),_:1,__:[5]},8,["disabled"])]),m(o).dataPoints.length>0?(k(),R("div",Yd,[t("div",Kd,[P[6]||(P[6]=t("span",{class:"info-label"},"Points:",-1)),t("span",Qd,b(m(o).dataPoints.length.toLocaleString()),1)]),t("div",Zd,[P[7]||(P[7]=t("span",{class:"info-label"},"Classes:",-1)),t("span",Jd,b(m(o).allClasses.length),1)])])):Z("",!0),M(m(lt),{as:"a",href:"https://colab.research.google.com/drive/1o9eogdqXhd2iRZnworQA_2oIwSuX8WsN?usp=sharing",target:"_blank",variant:"ghost",size:"sm",class:"generate-link"},{default:st(()=>[M(m($n),{class:"btn-icon"}),P[8]||(P[8]=tt(" Generate Custom Data "))]),_:1,__:[8]})])]),P[16]||(P[16]=t("div",{class:"panel-divider"},null,-1)),t("div",tu,[t("div",eu,[M(m(Ot),{class:"section-icon"}),P[9]||(P[9]=t("span",{class:"section-title"},"Neurons",-1)),t("span",su,b(m(o).neurons.length),1)]),t("div",nu,[t("div",au,[M(m(lt),{onClick:h,variant:"default",size:"sm",class:"action-btn"},{default:st(()=>[(k(),pt(Ct(e),{class:"btn-icon"})),P[10]||(P[10]=tt(" Add Random "))]),_:1,__:[10]}),M(m(lt),{onClick:P[0]||(P[0]=j=>m(o).removeLastNeuron()),disabled:m(o).neurons.length===0,variant:"destructive",size:"sm",class:"action-btn"},{default:st(()=>[M(m(ae),{class:"btn-icon"}),P[11]||(P[11]=tt(" Remove Last "))]),_:1,__:[11]},8,["disabled"])]),t("div",iu,[M(hs,{accept:".csv",onFileSelected:I,class:"neuron-upload"},{default:st(()=>[M(m(lt),{variant:"outline",size:"sm",class:"action-btn"},{default:st(()=>[M(m(wn),{class:"btn-icon"}),P[12]||(P[12]=tt(" Load Neurons "))]),_:1,__:[12]})]),_:1}),M(m(lt),{onClick:f,disabled:m(o).neurons.length===0,variant:"outline",size:"sm",class:"action-btn"},{default:st(()=>[M(m(xn),{class:"btn-icon"}),P[13]||(P[13]=tt(" Save Neurons "))]),_:1,__:[13]},8,["disabled"])]),t("div",ou,[M(m(lt),{onClick:y,disabled:m(o).neurons.length===0,variant:"ghost",size:"xs",class:"quick-btn"},{default:st(()=>P[14]||(P[14]=[tt(" Clear All ")])),_:1,__:[14]},8,["disabled"]),M(m(lt),{onClick:$,disabled:m(o).neurons.length===0,variant:"ghost",size:"xs",class:"quick-btn"},{default:st(()=>P[15]||(P[15]=[tt(" Randomize ")])),_:1,__:[15]},8,["disabled"])])])])]),_:1,__:[16]},8,["icon","initial-position","z-index"]))}});const lu=Rt(ru,[["__scopeId","data-v-c0edbbb9"]]),cu={class:"panel-section"},du={class:"section-header"},uu={class:"view-controls"},pu={class:"toggle-grid"},fu={class:"action-row"},vu={class:"panel-section"},hu={class:"section-header"},mu={class:"grid-value"},gu={class:"grid-controls"},_u={class:"slider-control"},bu={class:"slider-header"},yu={class:"slider-value"},$u={class:"panel-section"},wu={class:"section-header"},xu={class:"coordinate-controls"},ku={class:"preset-row"},Cu={class:"coord-inputs"},zu={class:"coord-group"},Su={class:"coord-pair"},Mu={class:"coord-group"},Nu={class:"coord-pair"},Ru=Mt({__name:"VisualizationPanel",props:{initialPosition:{default:()=>({x:320,y:80})},zIndex:{default:1e3}},emits:["close"],setup(n){const e={render(){return te("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[te("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17v4a2 2 0 002 2h4M13 13h4a2 2 0 012 2v4a2 2 0 01-2 2H9a2 2 0 01-2-2v-4a2 2 0 012-2z"})])}},o={render(){return te("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[te("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15.75 6 2.25 2.25-8.25 8.25L7.5 14.25M12 12l-2.25-2.25L12 7.5l2.25 2.25L12 12ZM21 12l-2.25-2.25L21 7.5l2.25 2.25L21 12ZM9 21l-2.25-2.25L9 16.5l2.25 2.25L9 21Z"})])}},s=Vt(),d=ce();function C(){s.showPredictedColors=!s.showPredictedColors}function x(){s.showBoundaries=!s.showBoundaries}function N(){s.showDataPoints=!s.showDataPoints,d.addNotification({message:s.showDataPoints?"Data points shown":"Data points hidden",type:"success",duration:2e3})}function I(){d.addNotification({message:"Fullscreen mode not yet implemented",type:"info"})}function p(){s.coordinateRanges.xMin=-1,s.coordinateRanges.xMax=1,s.coordinateRanges.yMin=-1,s.coordinateRanges.yMax=1,s.gridSize=50,d.addNotification({message:"View reset to defaults",type:"success"})}function l(){s.coordinateRanges.xMin>=s.coordinateRanges.xMax&&(s.coordinateRanges.xMax=s.coordinateRanges.xMin+.1),s.coordinateRanges.yMin>=s.coordinateRanges.yMax&&(s.coordinateRanges.yMax=s.coordinateRanges.yMin+.1),d.addNotification({message:"Coordinate ranges updated",type:"success",duration:2e3})}function f(y){switch(y){case"standard":s.coordinateRanges.xMin=-1,s.coordinateRanges.xMax=1,s.coordinateRanges.yMin=-1,s.coordinateRanges.yMax=1;break;case"extended":s.coordinateRanges.xMin=-5,s.coordinateRanges.xMax=5,s.coordinateRanges.yMin=-5,s.coordinateRanges.yMax=5;break;case"large":s.coordinateRanges.xMin=-10,s.coordinateRanges.xMax=10,s.coordinateRanges.yMin=-10,s.coordinateRanges.yMax=10;break;case"positive":s.coordinateRanges.xMin=0,s.coordinateRanges.xMax=10,s.coordinateRanges.yMin=0,s.coordinateRanges.yMax=10;break}d.addNotification({message:`Coordinate preset "${y}" applied`,type:"success"})}function h(){if(s.dataPoints.length===0){d.addNotification({message:"No data points to fit to",type:"warning"});return}const y=s.dataPoints.map(O=>O.x),$=s.dataPoints.map(O=>O.y),A=Math.min(...y),P=Math.max(...y),j=Math.min(...$),W=Math.max(...$),et=(P-A)*.1,K=(W-j)*.1;s.coordinateRanges.xMin=A-et,s.coordinateRanges.xMax=P+et,s.coordinateRanges.yMin=j-K,s.coordinateRanges.yMax=W+K,d.addNotification({message:"View auto-fitted to data",type:"success"})}return(y,$)=>(k(),pt(Xt,{title:"Visualization",icon:m(fs),width:260,"initial-position":y.initialPosition,"z-index":y.zIndex,closable:!0,onClose:$[9]||($[9]=A=>y.$emit("close"))},{default:st(()=>[t("div",cu,[t("div",du,[M(m(fs),{class:"section-icon"}),$[10]||($[10]=t("span",{class:"section-title"},"Display",-1))]),t("div",uu,[t("div",pu,[t("button",{class:vt(["toggle-btn",{"is-active":m(s).showPredictedColors}]),onClick:C},[(k(),pt(Ct(e),{class:"toggle-icon"})),$[11]||($[11]=t("span",{class:"toggle-label"},"Predicted Colors",-1))],2),t("button",{class:vt(["toggle-btn",{"is-active":m(s).showBoundaries}]),onClick:x},[M(m(ie),{class:"toggle-icon"}),$[12]||($[12]=t("span",{class:"toggle-label"},"Boundaries",-1))],2),t("button",{class:vt(["toggle-btn",{"is-active":m(s).showDataPoints}]),onClick:N},[M(m(se),{class:"toggle-icon"}),$[13]||($[13]=t("span",{class:"toggle-label"},"Data Points",-1))],2)]),t("div",fu,[M(m(lt),{onClick:I,variant:"outline",size:"sm",class:"action-btn"},{default:st(()=>[M(m(kn),{class:"btn-icon"}),$[14]||($[14]=tt(" Fullscreen "))]),_:1,__:[14]}),M(m(lt),{onClick:p,variant:"destructive",size:"sm",class:"action-btn"},{default:st(()=>[M(m(Gt),{class:"btn-icon"}),$[15]||($[15]=tt(" Reset "))]),_:1,__:[15]})])])]),$[29]||($[29]=t("div",{class:"panel-divider"},null,-1)),t("div",vu,[t("div",hu,[M(m(ie),{class:"section-icon"}),$[16]||($[16]=t("span",{class:"section-title"},"Grid",-1)),t("span",mu,b(m(s).gridSize),1)]),t("div",gu,[t("div",_u,[t("div",bu,[$[17]||($[17]=t("span",{class:"slider-label"},"Density",-1)),t("span",yu,b(m(s).gridSize),1)]),ct(t("input",{"onUpdate:modelValue":$[0]||($[0]=A=>m(s).gridSize=A),type:"range",min:"10",max:"150",step:"5",class:"slider"},null,512),[[gt,m(s).gridSize,void 0,{number:!0}]]),$[18]||($[18]=t("div",{class:"slider-marks"},[t("span",null,"10"),t("span",null,"50"),t("span",null,"100"),t("span",null,"150")],-1))])])]),$[30]||($[30]=t("div",{class:"panel-divider"},null,-1)),t("div",$u,[t("div",wu,[M(m(Ut),{class:"section-icon"}),$[19]||($[19]=t("span",{class:"section-title"},"Coordinate System",-1))]),t("div",xu,[t("div",ku,[M(m(lt),{onClick:$[1]||($[1]=A=>f("standard")),variant:"outline",size:"xs",class:"preset-btn"},{default:st(()=>$[20]||($[20]=[tt(" ±1 ")])),_:1,__:[20]}),M(m(lt),{onClick:$[2]||($[2]=A=>f("extended")),variant:"outline",size:"xs",class:"preset-btn"},{default:st(()=>$[21]||($[21]=[tt(" ±5 ")])),_:1,__:[21]}),M(m(lt),{onClick:$[3]||($[3]=A=>f("large")),variant:"outline",size:"xs",class:"preset-btn"},{default:st(()=>$[22]||($[22]=[tt(" ±10 ")])),_:1,__:[22]}),M(m(lt),{onClick:$[4]||($[4]=A=>f("positive")),variant:"outline",size:"xs",class:"preset-btn"},{default:st(()=>$[23]||($[23]=[tt(" 0-10 ")])),_:1,__:[23]})]),t("div",Cu,[t("div",zu,[$[25]||($[25]=t("label",{class:"coord-label"},"X Range",-1)),t("div",Su,[ct(t("input",{"onUpdate:modelValue":$[5]||($[5]=A=>m(s).coordinateRanges.xMin=A),type:"number",step:"0.1",class:"coord-input",placeholder:"Min",onChange:l},null,544),[[gt,m(s).coordinateRanges.xMin,void 0,{number:!0}]]),$[24]||($[24]=t("span",{class:"coord-separator"},"to",-1)),ct(t("input",{"onUpdate:modelValue":$[6]||($[6]=A=>m(s).coordinateRanges.xMax=A),type:"number",step:"0.1",class:"coord-input",placeholder:"Max",onChange:l},null,544),[[gt,m(s).coordinateRanges.xMax,void 0,{number:!0}]])])]),t("div",Mu,[$[27]||($[27]=t("label",{class:"coord-label"},"Y Range",-1)),t("div",Nu,[ct(t("input",{"onUpdate:modelValue":$[7]||($[7]=A=>m(s).coordinateRanges.yMin=A),type:"number",step:"0.1",class:"coord-input",placeholder:"Min",onChange:l},null,544),[[gt,m(s).coordinateRanges.yMin,void 0,{number:!0}]]),$[26]||($[26]=t("span",{class:"coord-separator"},"to",-1)),ct(t("input",{"onUpdate:modelValue":$[8]||($[8]=A=>m(s).coordinateRanges.yMax=A),type:"number",step:"0.1",class:"coord-input",placeholder:"Max",onChange:l},null,544),[[gt,m(s).coordinateRanges.yMax,void 0,{number:!0}]])])])]),M(m(lt),{onClick:h,variant:"default",size:"sm",class:"auto-fit-btn"},{default:st(()=>[(k(),pt(Ct(o),{class:"btn-icon"})),$[28]||($[28]=tt(" Auto-fit to Data "))]),_:1,__:[28]})])])]),_:1,__:[29,30]},8,["icon","initial-position","z-index"]))}});const Eu=Rt(Ru,[["__scopeId","data-v-945c8a2a"]]),Lu={class:"progress-container"},Pu={key:0,class:"progress-header"},Au={class:"progress-label"},Fu={class:"progress-stats"},Du={class:"progress-percentage"},Tu={key:0,class:"progress-eta"},Iu={class:"progress-track"},Ou={key:0,class:"progress-shine"},Uu={key:0,class:"progress-milestones"},Hu={class:"milestone-label"},Bu={key:1,class:"progress-steps"},Vu={class:"step-current"},ju={class:"step-total"},qu=Mt({__name:"ProgressBarEnhanced",props:{value:{default:0},current:{default:0},total:{default:0},label:{},eta:{},animated:{type:Boolean,default:!1},showSteps:{type:Boolean,default:!0},milestones:{default:()=>[25,50,75]},variant:{default:"default"}},setup(n){const e=n,o=D(()=>{const s=Math.max(0,Math.min(100,e.value));let d="";switch(e.variant){case"success":d="linear-gradient(90deg, #28a745 0%, #20c997 100%)";break;case"warning":d="linear-gradient(90deg, #ffc107 0%, #fd7e14 100%)";break;case"error":d="linear-gradient(90deg, #dc3545 0%, #e74c3c 100%)";break;default:s<25?d="linear-gradient(90deg, #007acc 0%, #0084d1 100%)":s<50?d="linear-gradient(90deg, #007acc 0%, #0084d1 50%, #00a2ff 100%)":s<75?d="linear-gradient(90deg, #007acc 0%, #00a2ff 50%, #28a745 100%)":d="linear-gradient(90deg, #007acc 0%, #00a2ff 33%, #28a745 66%, #20c997 100%)"}return{width:`${s}%`,background:d}});return(s,d)=>(k(),R("div",Lu,[s.label?(k(),R("div",Pu,[t("span",Au,b(s.label),1),t("div",Fu,[t("span",Du,b(Math.round(s.value))+"%",1),s.eta?(k(),R("span",Tu,"ETA: "+b(s.eta),1)):Z("",!0)])])):Z("",!0),t("div",Iu,[t("div",{class:vt(["progress-fill",{animated:s.animated}]),style:$t(o.value)},[s.animated?(k(),R("div",Ou)):Z("",!0)],6),s.milestones&&s.milestones.length?(k(),R("div",Uu,[(k(!0),R(_t,null,bt(s.milestones,C=>(k(),R("div",{key:C,class:vt(["milestone",{reached:s.value>=C}]),style:$t({left:`${C}%`})},[d[0]||(d[0]=t("div",{class:"milestone-marker"},null,-1)),t("div",Hu,b(C)+"%",1)],6))),128))])):Z("",!0)]),s.showSteps?(k(),R("div",Bu,[t("span",Vu,b(s.current),1),d[1]||(d[1]=t("span",{class:"step-separator"},"/",-1)),t("span",ju,b(s.total),1)])):Z("",!0)]))}});const Gu=Rt(qu,[["__scopeId","data-v-c6c559f8"]]),Wu={class:"optimization-panel"},Xu={class:"panel-header"},Yu={class:"header-content"},Ku={class:"title-section"},Qu={class:"status-text"},Zu={class:"quick-actions"},Ju={class:"section-title"},tp={class:"preset-selection"},ep={class:"preset-grid"},sp=["onClick","disabled"],np={class:"preset-info"},ap={class:"preset-name"},ip={class:"preset-desc"},op={class:"primary-controls"},rp={key:1,class:"training-controls"},lp={key:0,class:"training-progress"},cp={class:"section-title"},dp={class:"progress-summary"},up={class:"progress-percent"},pp={class:"eta"},fp={class:"metrics-section"},vp={class:"metrics-header"},hp={class:"metrics-grid"},mp={class:"metric-card"},gp={class:"metric-value"},_p={class:"metric-card"},bp={class:"metric-value"},yp={class:"metric-card"},$p={class:"metric-value"},wp={class:"metric-card"},xp={class:"metric-value"},kp={class:"configuration"},Cp={class:"section-title"},zp=["disabled"],Sp={class:"config-tabs"},Mp=["onClick"],Np={key:0,class:"config-content"},Rp={class:"param-group"},Ep={class:"param-control"},Lp={class:"param-header"},Pp={class:"param-value"},Ap=["disabled"],Fp={class:"param-control"},Dp={class:"param-header"},Tp={class:"param-actions"},Ip=["disabled"],Op=["disabled"],Up={class:"param-suggestions"},Hp=["onClick","disabled"],Bp={class:"chip-label"},Vp={class:"param-control"},jp={class:"param-header"},qp={class:"param-value"},Gp=["disabled"],Wp={class:"param-control"},Xp={class:"param-header"},Yp={class:"loss-function-selection"},Kp=["disabled"],Qp={class:"param-help"},Zp={class:"loss-description"},Jp={class:"param-control"},tf={class:"param-header"},ef={class:"optimizer-selection"},sf=["disabled"],nf=["disabled"],af={class:"param-help"},of={key:0,class:"status-success"},rf={key:1,class:"status-warning"},lf={class:"optimizer-info"},cf={class:"optimizer-description"},df={class:"optimizer-formula"},uf={class:"optimizer-best-for"},pf={key:1,class:"config-content"},ff={class:"param-group"},vf={class:"param-control"},hf={class:"param-header"},mf=["disabled"],gf={key:0,class:"param-control"},_f={class:"param-header"},bf={class:"param-value"},yf=["disabled"],$f={class:"param-control"},wf={class:"param-header"},xf={class:"param-value"},kf=["disabled"],Cf={key:1,class:"param-control"},zf={class:"param-header"},Sf={class:"param-value"},Mf=["disabled"],Nf={key:2,class:"param-control"},Rf={class:"param-header"},Ef={class:"param-value"},Lf=["disabled"],Pf={key:3,class:"param-control"},Af={class:"param-header"},Ff={class:"param-value"},Df=["disabled"],Tf={key:4,class:"param-control"},If={class:"param-header"},Of={class:"param-value"},Uf=["disabled"],Hf={class:"param-control"},Bf={class:"param-header"},Vf={class:"weight-norm-selection"},jf=["disabled"],qf=["disabled"],Gf={class:"param-help"},Wf={class:"weight-norm-description"},Xf={key:5,class:"param-control"},Yf={class:"param-header"},Kf={class:"param-value"},Qf=["disabled"],Zf={key:6,class:"weight-stats"},Jf={class:"stats-grid"},t1={class:"stat-item"},e1={class:"stat-value"},s1={class:"stat-item"},n1={class:"stat-value"},a1={class:"stat-item"},i1={class:"stat-value"},o1={class:"param-control"},r1={class:"param-header"},l1={class:"l2-reg-controls"},c1=["disabled"],d1={key:7,class:"param-control"},u1={class:"param-header"},p1={class:"param-value"},f1=["disabled"],v1={key:8,class:"param-control"},h1={class:"param-header"},m1=["disabled"],g1={key:9,class:"l2-reg-stats"},_1={class:"stats-grid"},b1={class:"stat-item"},y1={class:"stat-value"},$1={class:"stat-item"},w1={class:"stat-value"},x1={class:"stat-item"},k1={class:"stat-value"},C1={class:"stat-item"},z1={class:"stat-value"},S1={key:2,class:"config-content"},M1={class:"param-group"},N1={class:"param-control"},R1={class:"param-header"},E1=["disabled"],L1={key:0,class:"schedule-options"},P1=["disabled"],A1={class:"param-control"},F1={class:"param-header"},D1=["disabled"],T1={key:0,class:"early-stopping-options"},I1={class:"param-header"},O1=["disabled"],U1={key:3,class:"optimizer-diagnostics"},H1={class:"diagnostics-grid"},B1={class:"diagnostic-item"},V1={class:"diagnostic-value"},j1={class:"diagnostic-item"},q1={class:"diagnostic-value"},G1={class:"diagnostic-item"},W1={class:"diagnostic-value"},X1={class:"diagnostic-item"},Y1={class:"diagnostic-value"},K1={class:"diagnostic-item"},Q1={class:"diagnostic-value"},Z1={key:0,class:"diagnostic-item"},J1={class:"diagnostic-value"},t0={key:1,class:"training-history"},e0={class:"section-title"},s0={class:"history-actions"},n0=Mt({__name:"OptimizationPanel",setup(n){const e=Vt(),o=ce(),s=dt("essential"),d=dt(null),C=dt(!1),x=dt(!1),N=dt({initialized:!1,optimizer_type:null,config:null,has_state:!1,current_epoch:0}),I=[{id:"essential",name:"Essential",icon:We},{id:"advanced",name:"Advanced",icon:Ut},{id:"schedule",name:"Schedule",icon:Gt}],p=[{id:"quick",name:"Quick",description:"Fast convergence for experimentation",icon:qt,config:{learningRate:.1,epochs:50,speed:3,optimizer:"sgd"},color:"success"},{id:"balanced",name:"Balanced",description:"Good balance of speed and accuracy",icon:Pt,config:{learningRate:.01,epochs:100,speed:1,optimizer:"sgd"},color:"primary"},{id:"thorough",name:"Thorough",description:"Stable training with fine-tuning",icon:Ut,config:{learningRate:.001,epochs:200,speed:.5,optimizer:"sgd"},color:"secondary"}],l=dt({learningRate:.01,epochs:100,speed:1,batchSize:10,momentum:.9,weightDecay:1e-4,beta1:.9,beta2:.999,epsilon:1e-8,rho:.9,optimizer:"sgd",earlyStopping:!1,patience:20}),f=dt({type:"exponential",factor:.95}),h=D(()=>e.optimizationHistory.isRunning),y=D(()=>e.optimizationHistory.currentStep),$=D(()=>e.optimizationHistory.totalSteps),A=D(()=>e.currentLoss||0),P=D(()=>e.accuracy||0),j=D(()=>e.optimizationHistory.steps.length>0),W=D(()=>j.value&&!h.value&&y.value>=$.value),et=D(()=>$.value===0?0:Math.round(y.value/$.value*100)),K=[25,50,75],O=D(()=>e.neurons.length>0&&e.dataPoints.length>0),Y=D(()=>{const E=e.dataPoints.length;return E<50?[{value:20,label:"quick"},{value:50,label:"standard"},{value:100,label:"thorough"}]:E<200?[{value:50,label:"quick"},{value:100,label:"standard"},{value:200,label:"thorough"}]:[{value:100,label:"quick"},{value:200,label:"standard"},{value:500,label:"thorough"}]}),U=D(()=>{const E=e.optimizationHistory.steps;if(E.length<2)return 0;const a=E.slice(-10);if(a.length<2)return 0;const L=(a[a.length-1]?.timestamp||0)-(a[0]?.timestamp||0);return L<=0?0:(a.length-1)/(L/1e3)}),u=D(()=>{if(!h.value||U.value===0)return"—";const a=($.value-y.value)/U.value;return a<60?`${Math.round(a)}s`:a<3600?`${Math.round(a/60)}m`:`${Math.round(a/3600)}h`}),v=D(()=>{const E=e.optimizationHistory.steps.map(yt=>yt.loss).slice(-10);if(E.length<5)return"Starting";const a=E.reduce((yt,zt)=>yt+zt,0)/E.length,L=E.reduce((yt,zt)=>yt+Math.pow(zt-a,2),0)/E.length;return L<1e-4?"Converged":L<.001?"Converging":L<.01?"Training":"Unstable"}),c=D(()=>!h.value&&O.value);function r(){return W.value?"Completed":h.value?"Training":j.value?"Stopped":"Ready"}function i(E,a=2){return E===0?"0":isNaN(E)?"—":E.toFixed(a)}function g(E){Object.assign(l.value,E.config),d.value=E.id,H(),o.addNotification({message:`Applied ${E.name} training preset`,type:"info"})}async function F(){if(!O.value){o.addNotification({message:"Add data points and neurons before starting optimization",type:"warning"});return}H(),N.value.initialized||await z();try{await e.runGradientDescent(),e.optimizationHistory.currentStep>=e.optimizationHistory.totalSteps&&o.addNotification({message:"Training completed successfully!",type:"success"})}catch(E){console.error("Training error:",E),o.addNotification({message:"Training failed. Please try again.",type:"error"})}}function Q(){e.stopOptimization(),o.addNotification({message:"Training stopped",type:"info"})}function nt(){e.stopOptimization(),o.addNotification({message:"Training paused",type:"info"})}function G(){confirm("Are you sure you want to clear all training history?")&&(e.clearOptimizationHistory(),o.addNotification({message:"Training history cleared",type:"info"}))}function at(){l.value={learningRate:.01,epochs:100,speed:1,batchSize:10,momentum:.9,weightDecay:1e-4,beta1:.9,beta2:.999,epsilon:1e-8,rho:.9,optimizer:"sgd",earlyStopping:!1,patience:20},x.value=!1,d.value=null,H(),o.addNotification({message:"Configuration reset to defaults",type:"info"})}function V(){const E=e.dataPoints.length,a=e.neurons.length;let L=Math.max(50,Math.min(500,E*2));a>5&&(L*=1.5),l.value.epochs=Math.round(L),H(),o.addNotification({message:`Suggested ${l.value.epochs} epochs based on your data`,type:"info"})}function rt(){const E={config:l.value,history:e.optimizationHistory.steps,metadata:{neurons:e.neurons.length,dataPoints:e.dataPoints.length,exportTime:new Date().toISOString()}},a=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),L=URL.createObjectURL(a),yt=document.createElement("a");yt.href=L,yt.download=`training-data-${Date.now()}.json`,yt.click(),URL.revokeObjectURL(L),o.addNotification({message:"Training data exported successfully",type:"success"})}function X(){o.addNotification({message:"Training history visualization (coming soon)",type:"info"})}function H(){e.updateOptimizationConfig({learningRate:l.value.learningRate,epochs:l.value.epochs,speed:l.value.speed})}function B(){N.value.initialized=!1,H()}async function z(){try{e.initializeOptimizerState(l.value.optimizer,l.value.learningRate,l.value.momentum,l.value.weightDecay,l.value.beta1,l.value.beta2,l.value.epsilon,l.value.rho),N.value={initialized:!0,optimizer_type:l.value.optimizer,config:l.value,has_state:!0,current_epoch:0},o.addNotification({message:`${l.value.optimizer.toUpperCase()} optimizer initialized successfully`,type:"success"});try{const{mnistApiService:E}=await Sn(()=>import("./mnistApiService-dcfd3c73.js"),[]),L={sgd:"sgd",sgd_momentum:"sgd",adam:"adam",adamw:"adamw"}[l.value.optimizer]||"sgd";await E.initializeOptimizer(L,l.value.learningRate,l.value.momentum,l.value.weightDecay),console.log("MNIST API optimizer also initialized")}catch(E){console.warn("MNIST API optimizer initialization failed (this is okay for playground):",E)}}catch(E){console.error("Failed to initialize optimizer:",E),o.addNotification({message:`Failed to initialize optimizer: ${E}`,type:"error"})}}function S(){o.addNotification({message:`Loss function changed to ${vs(e.lossFunction).description}`,type:"info"})}function w(E){try{const a=vs(E);return`${a.description} - ${a.useFor}`}catch{return"Unknown loss function"}}function _(E){try{return Ue(E).description}catch{return"Unknown optimizer"}}function T(E){try{return Ue(E).formula}catch{return"N/A"}}function q(E){try{return Ue(E).bestFor.join(", ")}catch{return"N/A"}}function it(E){if(!e.optimizerState)return"N/A";const L=Mn(e.optimizerState)[E];return typeof L=="number"?E==="step"?L.toString():L.toFixed(6):"N/A"}function J(){o.addNotification({message:`Weight normalization changed to ${mt(e.weightNormalization)}`,type:"info"})}function ht(){e.weightNormalization!=="none"&&(e.applyWeightNormalizationToNeurons(),o.addNotification({message:`Applied ${e.weightNormalization} weight normalization to all neurons`,type:"success"}))}function mt(E){try{return Nn(E).description}catch{return"Unknown normalization type"}}function ut(E){try{const L=e.getWeightNormalizationStats()[E];return typeof L=="number"?L.toFixed(4):"N/A"}catch{return"N/A"}}function ft(){const E=e.l2RegularizationEnabled?"enabled":"disabled";o.addNotification({message:`L2 regularization ${E}`,type:"info"})}function ot(){o.addNotification({message:`L2 regularization decay changed to ${e.l2RegularizationDecay}`,type:"info"})}function xt(E){try{const L=e.getL2RegularizationStatistics()[E];return typeof L=="number"?L.toFixed(6):"N/A"}catch{return"N/A"}}return Jt(()=>e.optimizationHistory.config,E=>{l.value={...l.value,...E}},{immediate:!0}),(E,a)=>(k(),R("div",Wu,[t("header",Xu,[t("div",Yu,[t("div",Ku,[M(m(we),{class:"panel-icon"}),a[22]||(a[22]=t("h2",{class:"panel-title"},"Optimization",-1))]),t("div",{class:vt(["status-indicator",{active:h.value,completed:W.value}])},[a[23]||(a[23]=t("div",{class:"status-dot"},null,-1)),t("span",Qu,b(r()),1)],2)])]),t("section",Zu,[t("h3",Ju,[M(m(Ye),{class:"section-icon"}),a[24]||(a[24]=tt(" Quick Actions "))]),t("div",tp,[a[25]||(a[25]=t("label",{class:"preset-label"},"Training Presets",-1)),t("div",ep,[(k(),R(_t,null,bt(p,L=>t("button",{key:L.id,onClick:yt=>g(L),class:vt(["preset-btn",L.color,{selected:d.value===L.id}]),disabled:h.value},[(k(),pt(Ct(L.icon),{class:"preset-icon"})),t("div",np,[t("span",ap,b(L.name),1),t("span",ip,b(L.description),1)])],10,sp)),64))])]),t("div",op,[h.value?(k(),R("div",rp,[M(m(lt),{onClick:nt,variant:"outline",size:"lg",class:"pause-btn"},{default:st(()=>[M(m(Cn),{class:"btn-icon"}),a[27]||(a[27]=tt(" Pause "))]),_:1,__:[27]}),M(m(lt),{onClick:Q,variant:"destructive",size:"lg",class:"stop-btn"},{default:st(()=>[M(m(zn),{class:"btn-icon"}),a[28]||(a[28]=tt(" Stop "))]),_:1,__:[28]})])):(k(),pt(m(lt),{key:0,onClick:F,disabled:!O.value,variant:"default",size:"lg",class:"start-btn"},{default:st(()=>[M(m(Ye),{class:"btn-icon"}),a[26]||(a[26]=tt(" Start Training "))]),_:1,__:[26]},8,["disabled"]))])]),h.value||j.value?(k(),R("section",lp,[t("h3",cp,[M(m(Pt),{class:"section-icon"}),a[29]||(a[29]=tt(" Training Progress ")),t("div",dp,[t("span",up,b(et.value)+"%",1),t("span",pp,"ETA: "+b(u.value),1)])]),M(Gu,{value:et.value,current:y.value,total:$.value,eta:u.value,animated:h.value,milestones:K,variant:"default","show-steps":""},null,8,["value","current","total","eta","animated"]),t("div",fp,[t("div",vp,[a[30]||(a[30]=t("span",null,"Performance Metrics",-1)),t("button",{onClick:a[0]||(a[0]=L=>C.value=!C.value),class:"metrics-toggle"},b(C.value?"Compact":"Detailed"),1)]),t("div",hp,[t("div",mp,[a[31]||(a[31]=t("div",{class:"metric-label"},"Current Loss",-1)),t("div",gp,b(i(A.value,4)),1)]),t("div",_p,[a[32]||(a[32]=t("div",{class:"metric-label"},"Accuracy",-1)),t("div",bp,b(i(P.value,1))+"%",1)]),t("div",yp,[a[33]||(a[33]=t("div",{class:"metric-label"},"Speed",-1)),t("div",$p,b(i(U.value,1))+"/s",1)]),t("div",wp,[a[34]||(a[34]=t("div",{class:"metric-label"},"Status",-1)),t("div",xp,b(v.value),1)])])])])):Z("",!0),t("section",kp,[t("h3",Cp,[M(m(Ut),{class:"section-icon"}),a[36]||(a[36]=tt(" Configuration ")),t("button",{onClick:at,class:"reset-btn",disabled:h.value},[M(m(Gt),{class:"reset-icon"}),a[35]||(a[35]=tt(" Reset "))],8,zp)]),t("div",Sp,[(k(),R(_t,null,bt(I,L=>t("button",{key:L.id,onClick:yt=>s.value=L.id,class:vt(["config-tab",{active:s.value===L.id}])},[(k(),pt(Ct(L.icon),{class:"tab-icon"})),tt(" "+b(L.name),1)],10,Mp)),64))]),s.value==="essential"?(k(),R("div",Np,[t("div",Rp,[t("div",Ep,[t("div",Lp,[a[37]||(a[37]=t("label",{class:"param-label"},"Learning Rate",-1)),t("span",Pp,b(l.value.learningRate.toFixed(4)),1)]),ct(t("input",{"onUpdate:modelValue":a[1]||(a[1]=L=>l.value.learningRate=L),type:"range",min:"0.0001",max:"1",step:"0.0001",class:"param-slider",disabled:h.value,onInput:H},null,40,Ap),[[gt,l.value.learningRate,void 0,{number:!0}]]),a[38]||(a[38]=t("div",{class:"param-marks"},[t("span",null,"0.0001"),t("span",null,"0.01"),t("span",null,"0.1"),t("span",null,"1.0")],-1))]),t("div",Fp,[t("div",Dp,[a[39]||(a[39]=t("label",{class:"param-label"},"Epochs",-1)),t("div",Tp,[ct(t("input",{"onUpdate:modelValue":a[2]||(a[2]=L=>l.value.epochs=L),type:"number",min:"1",max:"10000",class:"param-input",disabled:h.value,onChange:H},null,40,Ip),[[gt,l.value.epochs,void 0,{number:!0}]]),t("button",{onClick:V,class:"suggest-btn",disabled:h.value}," Auto ",8,Op)])]),t("div",Up,[(k(!0),R(_t,null,bt(Y.value,L=>(k(),R("button",{key:L.value,onClick:yt=>{l.value.epochs=L.value,H()},class:"suggestion-chip",disabled:h.value},[tt(b(L.value)+" ",1),t("span",Bp,b(L.label),1)],8,Hp))),128))])]),t("div",Vp,[t("div",jp,[a[40]||(a[40]=t("label",{class:"param-label"},"Training Speed",-1)),t("span",qp,b(l.value.speed.toFixed(1))+"x",1)]),ct(t("input",{"onUpdate:modelValue":a[3]||(a[3]=L=>l.value.speed=L),type:"range",min:"0.1",max:"10",step:"0.1",class:"param-slider",disabled:h.value,onInput:H},null,40,Gp),[[gt,l.value.speed,void 0,{number:!0}]]),a[41]||(a[41]=t("div",{class:"param-marks"},[t("span",null,"0.1x"),t("span",null,"1x"),t("span",null,"5x"),t("span",null,"10x")],-1))]),t("div",Wp,[t("div",Xp,[a[43]||(a[43]=t("label",{class:"param-label"},"Loss Function",-1)),t("div",Yp,[ct(t("select",{"onUpdate:modelValue":a[4]||(a[4]=L=>m(e).lossFunction=L),class:"param-select",disabled:h.value,onChange:S},a[42]||(a[42]=[ne('<option value="categoricalCrossEntropy" data-v-8c99ab1c>Categorical Cross-Entropy</option><option value="binaryCrossEntropy" data-v-8c99ab1c>Binary Cross-Entropy</option><option value="meanSquaredError" data-v-8c99ab1c>Mean Squared Error</option><option value="huberLoss" data-v-8c99ab1c>Huber Loss</option><option value="hingeLoss" data-v-8c99ab1c>Hinge Loss</option><option value="focalLoss" data-v-8c99ab1c>Focal Loss</option>',6)]),40,Kp),[[Qt,m(e).lossFunction]])])]),t("div",Qp,[t("span",Zp,b(w(m(e).lossFunction)),1)])]),t("div",Jp,[t("div",tf,[a[45]||(a[45]=t("label",{class:"param-label"},"Optimizer",-1)),t("div",ef,[ct(t("select",{"onUpdate:modelValue":a[5]||(a[5]=L=>l.value.optimizer=L),class:"param-select",disabled:h.value,onChange:B},a[44]||(a[44]=[ne('<option value="sgd" data-v-8c99ab1c>SGD</option><option value="sgd_momentum" data-v-8c99ab1c>SGD with Momentum</option><option value="adam" data-v-8c99ab1c>Adam</option><option value="adamw" data-v-8c99ab1c>AdamW</option><option value="rmsprop" data-v-8c99ab1c>RMSprop</option><option value="adagrad" data-v-8c99ab1c>Adagrad</option><option value="adadelta" data-v-8c99ab1c>Adadelta</option><option value="novograd" data-v-8c99ab1c>NovoGrad</option><option value="sngd" data-v-8c99ab1c>SNGD</option><option value="sngd_adaptive" data-v-8c99ab1c>SNGD Adaptive</option><option value="sngd_layerwise" data-v-8c99ab1c>SNGD Layer-wise</option>',11)]),40,sf),[[Qt,l.value.optimizer]]),t("button",{onClick:z,disabled:h.value||!c.value,class:vt(["init-optimizer-btn",{initialized:N.value.initialized}])},b(N.value.initialized?"✓ Ready":"Initialize"),11,nf)])]),t("div",af,[N.value.initialized?(k(),R("span",of," Optimizer initialized and ready for training ")):(k(),R("span",rf,' Click "Initialize" to prepare the optimizer '))]),t("div",lf,[t("div",cf,b(_(l.value.optimizer)),1),t("div",df,[a[46]||(a[46]=t("strong",null,"Formula:",-1)),tt(" "+b(T(l.value.optimizer)),1)]),t("div",uf,[a[47]||(a[47]=t("strong",null,"Best for:",-1)),tt(" "+b(q(l.value.optimizer)),1)]),a[48]||(a[48]=t("div",{class:"optimizer-comparison-tip"},[t("strong",null,"💡 Tip:"),tt(" Try different optimizers on the same dataset to compare performance! Reset training history between tests for fair comparison. ")],-1))])])])])):Z("",!0),s.value==="advanced"?(k(),R("div",pf,[t("div",ff,[t("div",vf,[t("div",hf,[a[49]||(a[49]=t("label",{class:"param-label"},"Batch Size",-1)),ct(t("input",{"onUpdate:modelValue":a[6]||(a[6]=L=>l.value.batchSize=L),type:"number",min:"1",max:"1000",class:"param-input",disabled:h.value,onChange:H},null,40,mf),[[gt,l.value.batchSize,void 0,{number:!0}]])]),a[50]||(a[50]=t("div",{class:"param-help"},"Smaller batches = more updates, noisier gradients",-1))]),l.value.optimizer==="sgd_momentum"||l.value.optimizer==="adam"||l.value.optimizer==="adamw"||l.value.optimizer==="novograd"?(k(),R("div",gf,[t("div",_f,[a[51]||(a[51]=t("label",{class:"param-label"},"Momentum",-1)),t("span",bf,b(l.value.momentum.toFixed(2)),1)]),ct(t("input",{"onUpdate:modelValue":a[7]||(a[7]=L=>l.value.momentum=L),type:"range",min:"0",max:"0.99",step:"0.01",class:"param-slider",disabled:h.value,onInput:H},null,40,yf),[[gt,l.value.momentum,void 0,{number:!0}]])])):Z("",!0),t("div",$f,[t("div",wf,[a[52]||(a[52]=t("label",{class:"param-label"},"Weight Decay",-1)),t("span",xf,b(l.value.weightDecay.toFixed(4)),1)]),ct(t("input",{"onUpdate:modelValue":a[8]||(a[8]=L=>l.value.weightDecay=L),type:"range",min:"0",max:"0.01",step:"0.0001",class:"param-slider",disabled:h.value,onInput:H},null,40,kf),[[gt,l.value.weightDecay,void 0,{number:!0}]]),a[53]||(a[53]=t("div",{class:"param-help"},"Regularization to prevent overfitting",-1))]),l.value.optimizer==="adam"||l.value.optimizer==="adamw"||l.value.optimizer==="novograd"?(k(),R("div",Cf,[t("div",zf,[a[54]||(a[54]=t("label",{class:"param-label"},"Beta1 (First Moment)",-1)),t("span",Sf,b(l.value.beta1.toFixed(3)),1)]),ct(t("input",{"onUpdate:modelValue":a[9]||(a[9]=L=>l.value.beta1=L),type:"range",min:"0",max:"0.99",step:"0.01",class:"param-slider",disabled:h.value,onInput:H},null,40,Mf),[[gt,l.value.beta1,void 0,{number:!0}]]),a[55]||(a[55]=t("div",{class:"param-help"},"Exponential decay rate for first moment estimates",-1))])):Z("",!0),l.value.optimizer==="adam"||l.value.optimizer==="adamw"||l.value.optimizer==="novograd"?(k(),R("div",Nf,[t("div",Rf,[a[56]||(a[56]=t("label",{class:"param-label"},"Beta2 (Second Moment)",-1)),t("span",Ef,b(l.value.beta2.toFixed(3)),1)]),ct(t("input",{"onUpdate:modelValue":a[10]||(a[10]=L=>l.value.beta2=L),type:"range",min:"0",max:"0.999",step:"0.001",class:"param-slider",disabled:h.value,onInput:H},null,40,Lf),[[gt,l.value.beta2,void 0,{number:!0}]]),a[57]||(a[57]=t("div",{class:"param-help"},"Exponential decay rate for second moment estimates",-1))])):Z("",!0),l.value.optimizer==="rmsprop"||l.value.optimizer==="adadelta"||l.value.optimizer==="sngd_adaptive"?(k(),R("div",Pf,[t("div",Af,[a[58]||(a[58]=t("label",{class:"param-label"},"Rho (Decay Rate)",-1)),t("span",Ff,b(l.value.rho.toFixed(3)),1)]),ct(t("input",{"onUpdate:modelValue":a[11]||(a[11]=L=>l.value.rho=L),type:"range",min:"0",max:"0.99",step:"0.01",class:"param-slider",disabled:h.value,onInput:H},null,40,Df),[[gt,l.value.rho,void 0,{number:!0}]]),a[59]||(a[59]=t("div",{class:"param-help"},"Decay rate for squared gradient moving average",-1))])):Z("",!0),l.value.optimizer!=="sgd"&&l.value.optimizer!=="sgd_momentum"?(k(),R("div",Tf,[t("div",If,[a[60]||(a[60]=t("label",{class:"param-label"},"Epsilon (Stability)",-1)),t("span",Of,b(l.value.epsilon.toExponential(2)),1)]),ct(t("input",{"onUpdate:modelValue":a[12]||(a[12]=L=>l.value.epsilon=L),type:"range",min:"1e-10",max:"1e-4",step:"1e-9",class:"param-slider",disabled:h.value,onInput:H},null,40,Uf),[[gt,l.value.epsilon,void 0,{number:!0}]]),a[61]||(a[61]=t("div",{class:"param-help"},"Small constant for numerical stability",-1))])):Z("",!0),t("div",Hf,[t("div",Bf,[a[63]||(a[63]=t("label",{class:"param-label"},"Weight Normalization",-1)),t("div",Vf,[ct(t("select",{"onUpdate:modelValue":a[13]||(a[13]=L=>m(e).weightNormalization=L),class:"param-select",disabled:h.value,onChange:J},a[62]||(a[62]=[ne('<option value="none" data-v-8c99ab1c>None</option><option value="l1" data-v-8c99ab1c>L1 Normalization</option><option value="l2" data-v-8c99ab1c>L2 Normalization</option><option value="max" data-v-8c99ab1c>Max Normalization</option><option value="unit_vector" data-v-8c99ab1c>Unit Vector</option>',5)]),40,jf),[[Qt,m(e).weightNormalization]]),t("button",{onClick:ht,disabled:h.value||m(e).weightNormalization==="none"||m(e).neurons.length===0,class:"apply-norm-btn"}," Apply Now ",8,qf)])]),t("div",Gf,[t("span",Wf,b(mt(m(e).weightNormalization)),1)])]),m(e).weightNormalization!=="none"?(k(),R("div",Xf,[t("div",Yf,[a[64]||(a[64]=t("label",{class:"param-label"},"Normalization Frequency",-1)),t("span",Kf,"Every "+b(m(e).weightNormalizationFrequency)+" step(s)",1)]),ct(t("input",{"onUpdate:modelValue":a[14]||(a[14]=L=>m(e).weightNormalizationFrequency=L),type:"range",min:"1",max:"10",step:"1",class:"param-slider",disabled:h.value,onInput:H},null,40,Qf),[[gt,m(e).weightNormalizationFrequency,void 0,{number:!0}]]),a[65]||(a[65]=t("div",{class:"param-help"},"How often to apply weight normalization during training",-1))])):Z("",!0),m(e).neurons.length>0?(k(),R("div",Zf,[a[69]||(a[69]=t("h4",{class:"stats-title"},"Weight Statistics",-1)),t("div",Jf,[t("div",t1,[a[66]||(a[66]=t("span",{class:"stat-label"},"Mean L2 Norm:",-1)),t("span",e1,b(ut("meanL2Norm")),1)]),t("div",s1,[a[67]||(a[67]=t("span",{class:"stat-label"},"Max L2 Norm:",-1)),t("span",n1,b(ut("maxL2Norm")),1)]),t("div",a1,[a[68]||(a[68]=t("span",{class:"stat-label"},"Weight Variance:",-1)),t("span",i1,b(ut("weightMagnitudeVariance")),1)])])])):Z("",!0),t("div",o1,[t("div",r1,[a[71]||(a[71]=t("label",{class:"param-label"},"L2 Regularization",-1)),t("div",l1,[ct(t("input",{"onUpdate:modelValue":a[15]||(a[15]=L=>m(e).l2RegularizationEnabled=L),type:"checkbox",class:"param-checkbox",disabled:h.value,onChange:ft},null,40,c1),[[oe,m(e).l2RegularizationEnabled]]),a[70]||(a[70]=t("span",{class:"checkbox-label"},"Enable L2 Regularization",-1))])]),a[72]||(a[72]=t("div",{class:"param-help"}," Adds penalty for large weights to prevent overfitting (λ/2 * Σw²) ",-1))]),m(e).l2RegularizationEnabled?(k(),R("div",d1,[t("div",u1,[a[73]||(a[73]=t("label",{class:"param-label"},"L2 Lambda (λ)",-1)),t("span",p1,b(m(e).l2RegularizationLambda.toFixed(4)),1)]),ct(t("input",{"onUpdate:modelValue":a[16]||(a[16]=L=>m(e).l2RegularizationLambda=L),type:"range",min:"0",max:"0.1",step:"0.001",class:"param-slider",disabled:h.value,onInput:H},null,40,f1),[[gt,m(e).l2RegularizationLambda,void 0,{number:!0}]]),a[74]||(a[74]=t("div",{class:"param-help"},"Regularization strength - higher values = more penalty",-1))])):Z("",!0),m(e).l2RegularizationEnabled?(k(),R("div",v1,[t("div",h1,[a[76]||(a[76]=t("label",{class:"param-label"},"Adaptive Decay",-1)),ct(t("select",{"onUpdate:modelValue":a[17]||(a[17]=L=>m(e).l2RegularizationDecay=L),class:"param-select",disabled:h.value,onChange:ot},a[75]||(a[75]=[t("option",{value:"none"},"None (Constant)",-1),t("option",{value:"linear"},"Linear Decay",-1),t("option",{value:"exponential"},"Exponential Decay",-1),t("option",{value:"cosine"},"Cosine Decay",-1)]),40,m1),[[Qt,m(e).l2RegularizationDecay]])]),a[77]||(a[77]=t("div",{class:"param-help"},"How regularization strength changes during training",-1))])):Z("",!0),m(e).l2RegularizationEnabled&&m(e).neurons.length>0?(k(),R("div",g1,[a[82]||(a[82]=t("h4",{class:"stats-title"},"L2 Regularization Stats",-1)),t("div",_1,[t("div",b1,[a[78]||(a[78]=t("span",{class:"stat-label"},"Current Penalty:",-1)),t("span",y1,b(xt("l2Penalty")),1)]),t("div",$1,[a[79]||(a[79]=t("span",{class:"stat-label"},"Total Weight²:",-1)),t("span",w1,b(xt("totalWeightSquared")),1)]),t("div",x1,[a[80]||(a[80]=t("span",{class:"stat-label"},"Avg Weight²:",-1)),t("span",k1,b(xt("averageWeightSquared")),1)]),t("div",C1,[a[81]||(a[81]=t("span",{class:"stat-label"},"Effective Reg:",-1)),t("span",z1,b(xt("effectiveRegularization")),1)])])])):Z("",!0)])])):Z("",!0),s.value==="schedule"?(k(),R("div",S1,[t("div",M1,[t("div",N1,[t("div",R1,[a[83]||(a[83]=t("label",{class:"param-label"},"Learning Rate Schedule",-1)),ct(t("input",{"onUpdate:modelValue":a[18]||(a[18]=L=>x.value=L),type:"checkbox",class:"param-checkbox",disabled:h.value,onChange:H},null,40,E1),[[oe,x.value]])]),x.value?(k(),R("div",L1,[ct(t("select",{"onUpdate:modelValue":a[19]||(a[19]=L=>f.value.type=L),class:"param-select",disabled:h.value},a[84]||(a[84]=[t("option",{value:"exponential"},"Exponential Decay",-1),t("option",{value:"step"},"Step Decay",-1),t("option",{value:"cosine"},"Cosine Annealing",-1)]),8,P1),[[Qt,f.value.type]])])):Z("",!0)]),t("div",A1,[t("div",F1,[a[85]||(a[85]=t("label",{class:"param-label"},"Early Stopping",-1)),ct(t("input",{"onUpdate:modelValue":a[20]||(a[20]=L=>l.value.earlyStopping=L),type:"checkbox",class:"param-checkbox",disabled:h.value,onChange:H},null,40,D1),[[oe,l.value.earlyStopping]])]),l.value.earlyStopping?(k(),R("div",T1,[t("div",I1,[a[86]||(a[86]=t("label",{class:"param-label"},"Patience",-1)),ct(t("input",{"onUpdate:modelValue":a[21]||(a[21]=L=>l.value.patience=L),type:"number",min:"5",max:"100",class:"param-input",disabled:h.value,onChange:H},null,40,O1),[[gt,l.value.patience,void 0,{number:!0}]])])])):Z("",!0)])])])):Z("",!0),N.value.initialized&&(h.value||j.value)?(k(),R("div",U1,[a[93]||(a[93]=t("h4",{class:"diagnostics-title"},"Optimizer Diagnostics",-1)),t("div",H1,[t("div",B1,[a[87]||(a[87]=t("span",{class:"diagnostic-label"},"Gradient Norm:",-1)),t("span",V1,b(it("gradientNorm")),1)]),t("div",j1,[a[88]||(a[88]=t("span",{class:"diagnostic-label"},"Update Norm:",-1)),t("span",q1,b(it("updateNorm")),1)]),t("div",G1,[a[89]||(a[89]=t("span",{class:"diagnostic-label"},"Learning Rate Scale:",-1)),t("span",W1,b(it("learningRateScale")),1)]),t("div",X1,[a[90]||(a[90]=t("span",{class:"diagnostic-label"},"Effective LR:",-1)),t("span",Y1,b(it("effectiveLearningRate")),1)]),t("div",K1,[a[91]||(a[91]=t("span",{class:"diagnostic-label"},"Step:",-1)),t("span",Q1,b(it("step")),1)]),m(e).l2RegularizationEnabled?(k(),R("div",Z1,[a[92]||(a[92]=t("span",{class:"diagnostic-label"},"L2 Penalty:",-1)),t("span",J1,b(m(e).getCurrentL2Penalty().toFixed(6)),1)])):Z("",!0)])])):Z("",!0)]),j.value?(k(),R("section",t0,[t("h3",e0,[M(m(Gt),{class:"section-icon"}),a[94]||(a[94]=tt(" Training History "))]),t("div",s0,[M(m(lt),{onClick:rt,variant:"outline",size:"sm",class:"history-btn"},{default:st(()=>[M(m(Fe),{class:"btn-icon"}),a[95]||(a[95]=tt(" Export Data "))]),_:1,__:[95]}),M(m(lt),{onClick:X,variant:"outline",size:"sm",class:"history-btn"},{default:st(()=>[M(m(se),{class:"btn-icon"}),a[96]||(a[96]=tt(" View Charts "))]),_:1,__:[96]}),M(m(lt),{onClick:G,disabled:h.value,variant:"outline",size:"sm",class:"history-btn destructive"},{default:st(()=>[M(m(ae),{class:"btn-icon"}),a[97]||(a[97]=tt(" Clear History "))]),_:1,__:[97]},8,["disabled"])])])):Z("",!0)]))}});const a0=Rt(n0,[["__scopeId","data-v-8c99ab1c"]]),i0={class:"min-h-screen photoshop-workspace"},o0={class:"workspace-main"},r0={class:"workspace-container"},l0={class:"canvas-area"},c0={class:"canvas-container","data-tour":"neural-canvas"},d0={key:0,class:"class-toolbar-overlay"},u0={class:"optimization-content"},p0={class:"metrics-content"},f0={class:"metrics-section"},v0={class:"metrics-section"},h0={class:"metrics-section"},m0={class:"presets-content"},g0={class:"preset-section"},_0={class:"preset-grid"},b0=["onClick"],y0={class:"preset-info"},$0={class:"preset-name"},w0={class:"preset-description"},x0={class:"preset-section"},k0={class:"preset-grid"},C0=["onClick"],z0={class:"preset-info"},S0={class:"preset-name"},M0={class:"preset-description"},N0={class:"preset-section"},R0={class:"experiment-grid"},E0=["onClick"],L0={class:"experiment-name"},P0={class:"panel-controls-sidebar","data-tour":"panel-controls"},A0={class:"sidebar-section"},F0={class:"panel-toggles"},D0=["onClick","title","data-tour"],T0={class:"toggle-label"},I0={class:"sidebar-section"},O0={class:"layout-controls"},U0=Mt({__name:"Playground",setup(n){const e=Vt(),o=ce(),s=dt(null),d=Rn({data:!1,visualization:!1,optimization:!1,metrics:!1,presets:!1,neurons:!1,networkConfig:!1}),C=[{id:"spiral",name:"Spiral",description:"Two interleaved spirals",icon:qt},{id:"clusters",name:"Clusters",description:"Clustered data points",icon:Ge},{id:"xor",name:"XOR",description:"XOR logic problem",icon:ie},{id:"donut",name:"Donut",description:"Ring-shaped data",icon:Pn}],x=[{id:"simple",name:"Simple",description:"2-3 neurons",icon:Ot},{id:"medium",name:"Medium",description:"5-8 neurons",icon:ie},{id:"complex",name:"Complex",description:"10+ neurons",icon:Ot}],N=[{id:"noise",name:"Add Noise",icon:qt,type:"warning"},{id:"shuffle",name:"Shuffle Labels",icon:Gt,type:"warning"},{id:"boost",name:"Learning Boost",icon:we,type:"success"},{id:"perturbation",name:"Perturbation",icon:qt,type:"default"}];function I(r){d[r]=!d[r],o.addNotification({message:`${p(r)} panel ${d[r]?"shown":"hidden"}`,type:"info"})}function p(r){return{data:"Data",visualization:"Visualization",optimization:"Optimization",metrics:"Metrics",presets:"Presets",neurons:"Neurons",networkConfig:"Network"}[r]||r}function l(r){return{data:Xe,visualization:De,optimization:we,metrics:Pt,presets:$e,neurons:Ot,networkConfig:Ut}[r]||$e}function f(){e.reset();const r={...d};Object.keys(d).forEach(i=>{d[i]=!1}),setTimeout(()=>{Object.assign(d,r)},100),o.addNotification({message:"Canvas and panel layout have been reset",type:"info"})}function h(){Object.keys(d).forEach(r=>{d[r]=!1}),o.addNotification({message:"All panels hidden",type:"info"})}function y(){Object.keys(d).forEach(r=>{d[r]=!0}),o.addNotification({message:"All panels shown",type:"info"})}function $(r){let i=[];switch(r){case"spiral":i=j();break;case"clusters":i=W();break;case"xor":i=et();break;case"donut":i=K();break}e.setDataPoints(i),o.addNotification({message:`${r.charAt(0).toUpperCase()+r.slice(1)} dataset loaded!`,type:"success"})}function A(r){switch(e.neurons.splice(0),r){case"simple":e.addNeuron(-.3,0),e.addNeuron(.3,0),Math.random()>.5&&e.addNeuron(0,.4);break;case"medium":for(let i=0;i<2;i++)for(let g=0;g<3;g++)e.addNeuron((i-.5)*.6,(g-1)*.4);break;case"complex":for(let i=0;i<12;i++)e.addNeuron((Math.random()-.5)*1.5,(Math.random()-.5)*1.5);break}o.addNotification({message:`${r.charAt(0).toUpperCase()+r.slice(1)} network loaded!`,type:"success"})}function P(r){switch(r){case"noise":O();break;case"shuffle":Y();break;case"boost":U();break;case"perturbation":u();break}}function j(){const r=[];for(let g=0;g<100;g++){const F=g/100*.8,Q=1.75*g/100*2*Math.PI;r.push({x:F*Math.cos(Q)+Math.random()*.1-.05,y:F*Math.sin(Q)+Math.random()*.1-.05,label:0}),r.push({x:F*Math.cos(Q+Math.PI)+Math.random()*.1-.05,y:F*Math.sin(Q+Math.PI)+Math.random()*.1-.05,label:1})}return r}function W(){const r=[];return[{x:-.5,y:-.5,label:0},{x:.5,y:-.5,label:1},{x:0,y:.5,label:2}].forEach(g=>{for(let F=0;F<50;F++)r.push({x:g.x+(Math.random()-.5)*.4,y:g.y+(Math.random()-.5)*.4,label:g.label})}),r}function et(){const r=[];for(let i=0;i<100;i++){const g=Math.random()*2-1,F=Math.random()*2-1,Q=g>0!=F>0?1:0;r.push({x:g,y:F,label:Q})}return r}function K(){const r=[];for(let i=0;i<200;i++){const g=Math.random()*2*Math.PI,F=Math.random()*.5+.3,Q=F*Math.cos(g)+(Math.random()-.5)*.1,nt=F*Math.sin(g)+(Math.random()-.5)*.1,G=F<.55?0:1;r.push({x:Q,y:nt,label:G})}return r}function O(){const r=e.dataPoints.map(i=>({...i,x:i.x+(Math.random()-.5)*.2,y:i.y+(Math.random()-.5)*.2}));e.setDataPoints(r),o.addNotification({message:"Noise added to data points!",type:"info"})}function Y(){const r=[...e.dataPoints];for(let i=r.length-1;i>0;i--){const g=Math.floor(Math.random()*(i+1)),F=r[i].label;r[i].label=r[g].label,r[g].label=F}e.setDataPoints(r),o.addNotification({message:"Labels shuffled randomly!",type:"warning"})}function U(){o.addNotification({message:"Learning boost applied! Training will be faster for next 10 steps.",type:"success"})}function u(){e.neurons.forEach(r=>{r.x+=(Math.random()-.5)*.1,r.y+=(Math.random()-.5)*.1}),o.addNotification({message:"Small perturbations added to all neurons!",type:"info"})}function v(r){e.activationFunction=r,o.addNotification({message:`Activation function changed to ${r}!`,type:"info"})}function c(r){e.similarityMetric=r,o.addNotification({message:`Similarity metric changed to ${r}!`,type:"info"})}return(r,i)=>(k(),R("div",i0,[M(En),t("main",o0,[t("div",r0,[i[18]||(i[18]=t("div",{class:"text-center mb-4"},[t("h1",{class:"text-3xl font-bold text-theme-primary mb-2"},"Neural Network Playground"),t("p",{class:"text-sm text-theme-secondary"},"Experiment freely with neural network configurations")],-1)),t("div",l0,[t("div",c0,[M(La,{ref_key:"neuralCanvas",ref:s},null,512),m(e).allClasses.length>0?(k(),R("div",d0,[M(Id)])):Z("",!0)])]),d.data?(k(),pt(lu,{key:0,"initial-position":{x:10,y:10},"z-index":150,onClose:i[0]||(i[0]=g=>d.data=!1)})):Z("",!0),d.visualization?(k(),pt(Eu,{key:1,"initial-position":{x:300,y:10},"z-index":150,onClose:i[1]||(i[1]=g=>d.visualization=!1)})):Z("",!0),d.optimization?(k(),pt(Xt,{key:2,title:"Optimization",icon:m(we),"initial-position":{x:590,y:10},width:380,height:500,"z-index":150,onClose:i[2]||(i[2]=g=>d.optimization=!1),"data-tour":"optimization-panel"},{default:st(()=>[t("div",u0,[M(a0)])]),_:1},8,["icon"])):Z("",!0),d.metrics?(k(),pt(Xt,{key:3,title:"Metrics & Charts",icon:m(Pt),"initial-position":{x:10,y:300},width:350,height:400,"z-index":150,onClose:i[3]||(i[3]=g=>d.metrics=!1),"data-tour":"metrics-panel"},{default:st(()=>[t("div",p0,[t("div",f0,[i[12]||(i[12]=t("h3",{class:"metrics-title"},"Real-time Metrics",-1)),M(Xo)]),t("div",v0,[i[13]||(i[13]=t("h3",{class:"metrics-title"},"Loss History",-1)),M(Ld)]),t("div",h0,[i[14]||(i[14]=t("h3",{class:"metrics-title"},"Loss Landscape",-1)),M(Fr)])])]),_:1},8,["icon"])):Z("",!0),d.presets?(k(),pt(Xt,{key:4,title:"Presets & Experiments",icon:m($e),"initial-position":{x:50,y:500},width:600,height:300,"z-index":150,onClose:i[4]||(i[4]=g=>d.presets=!1),"data-tour":"presets-panel"},{default:st(()=>[t("div",m0,[t("div",g0,[i[15]||(i[15]=t("h3",{class:"preset-title"},"Dataset Presets",-1)),t("div",_0,[(k(),R(_t,null,bt(C,g=>t("button",{key:g.id,onClick:F=>$(g.id),class:"preset-card"},[(k(),pt(Ct(g.icon),{class:"preset-icon"})),t("div",y0,[t("h4",$0,b(g.name),1),t("p",w0,b(g.description),1)])],8,b0)),64))])]),t("div",x0,[i[16]||(i[16]=t("h3",{class:"preset-title"},"Network Presets",-1)),t("div",k0,[(k(),R(_t,null,bt(x,g=>t("button",{key:g.id,onClick:F=>A(g.id),class:"preset-card"},[(k(),pt(Ct(g.icon),{class:"preset-icon"})),t("div",z0,[t("h4",S0,b(g.name),1),t("p",M0,b(g.description),1)])],8,C0)),64))])]),t("div",N0,[i[17]||(i[17]=t("h3",{class:"preset-title"},"Quick Experiments",-1)),t("div",R0,[(k(),R(_t,null,bt(N,g=>t("button",{key:g.id,onClick:F=>P(g.id),class:vt(["experiment-btn",g.type])},[(k(),pt(Ct(g.icon),{class:"experiment-icon"})),t("span",L0,b(g.name),1)],10,E0)),64))])])])]),_:1},8,["icon"])):Z("",!0),s.value&&s.value.canvasComponent&&d.neurons?(k(),pt(Xt,{key:5,title:"Neuron Management",icon:m(Ot),"initial-position":{x:700,y:500},width:400,height:300,"z-index":150,onClose:i[10]||(i[10]=g=>d.neurons=!1)},{default:st(()=>[M(dc,{neurons:m(e).neurons,"selected-neuron":s.value.canvasComponent.selectedNeuron,"coordinate-ranges":m(e).coordinateRanges,"get-controlled-area":s.value.canvasComponent.getControlledArea,"get-average-score":s.value.canvasComponent.getAverageScore,onSelect:s.value.selectNeuron,onClose:i[5]||(i[5]=()=>{s.value&&s.value.canvasComponent&&(s.value.canvasComponent.selectedNeuron=null)}),onUpdatePosition:i[6]||(i[6]=(...g)=>s.value?.canvasComponent?.updateNeuronPosition(...g)),onUpdateColor:i[7]||(i[7]=(...g)=>s.value?.canvasComponent?.updateNeuronColor(...g)),onRemove:i[8]||(i[8]=(...g)=>s.value?.canvasComponent?.removeNeuron(...g)),onAddNeuron:i[9]||(i[9]=(g,F)=>m(e).addNeuron(g,F))},null,8,["neurons","selected-neuron","coordinate-ranges","get-controlled-area","get-average-score","onSelect"])]),_:1},8,["icon"])):Z("",!0),d.networkConfig?(k(),pt(Xt,{key:6,title:"Network Configuration",icon:m(Ut),"initial-position":{x:1e3,y:10},width:400,height:500,"z-index":150,onClose:i[11]||(i[11]=g=>d.networkConfig=!1),"data-tour":"network-config-panel"},{default:st(()=>[M(Bc,{"activation-function":m(e).activationFunction,"similarity-metric":m(e).similarityMetric,onUpdateActivation:v,onUpdateSimilarity:c},null,8,["activation-function","similarity-metric"])]),_:1},8,["icon"])):Z("",!0),t("div",P0,[t("div",A0,[t("div",F0,[(k(!0),R(_t,null,bt(d,(g,F)=>(k(),R("button",{key:F,onClick:Q=>I(F),class:vt(["panel-toggle",{active:g}]),title:`Toggle ${p(F)} panel`,"data-tour":`toggle-${F}`},[(k(),pt(Ct(l(F)),{class:"toggle-icon"})),t("span",T0,b(p(F)),1)],10,D0))),128))])]),t("div",I0,[t("div",O0,[t("button",{onClick:f,class:"layout-btn",title:"Reset Layout"},[M(m(Gt),{class:"btn-icon"})]),t("button",{onClick:h,class:"layout-btn",title:"Minimize All"},[M(m(Ln),{class:"btn-icon"})]),t("button",{onClick:y,class:"layout-btn",title:"Show All"},[M(m(ie),{class:"btn-icon"})])])])])])])]))}});const V0=Rt(U0,[["__scopeId","data-v-cc2efb80"]]);export{V0 as default};
